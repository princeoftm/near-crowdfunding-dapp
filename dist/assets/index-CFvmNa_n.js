const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ccip-CIwc-oOs.js","assets/index-VaP91tRB.js","assets/index-BczxmwGr.css"])))=>i.map(i=>d[i]);
import{e as Xi,B as I,s as U,k as W,t as Qe,a as Ye,i as Me,S as Qs,n as F,p as _e,b as Qi,c as et,d as yn,f as Z,h as wt,g as qe,I as ea,j as he,l as vt,m as le,o as ta,q as mn,r as ds,H as na,u as Ln,v as ls,w as ra,x as sa,y as oa,z as ie,_ as eo,A as to,C as Ge,D as sn,E as fs,F as ia}from"./index-VaP91tRB.js";const hs=/^tuple(?<array>(\[(\d*)\])*)$/;function rr(e){let t=e.type;if(hs.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=rr(o),s<n-1&&(t+=", ")}const r=Xi(hs,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,rr({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function pt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=rr(s),r!==n-1&&(t+=", ")}return t}function aa(e){return e.type==="function"?`function ${e.name}(${pt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${pt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${pt(e.inputs)})`:e.type==="error"?`error ${e.name}(${pt(e.inputs)})`:e.type==="constructor"?`constructor(${pt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}function k(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}function be(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new va(e.type);return`${e.name}(${gn(e.inputs,{includeName:t})})`}function gn(e,{includeName:t=!1}={}){return e?e.map(n=>ca(n,{includeName:t})).join(t?", ":","):""}function ca(e,{includeName:t}){return e.type.startsWith("tuple")?`(${gn(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class ua extends I{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class bs extends I{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class no extends I{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${gn(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class wn extends I{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class da extends I{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class la extends I{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${U(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class fa extends I{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class ro extends I{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class ha extends I{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class so extends I{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class ps extends I{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class on extends I{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class ba extends I{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class pa extends I{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${be(t.abiItem)}\`, and`,`\`${n.type}\` in \`${be(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class ya extends I{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class xt extends I{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${gn(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class vn extends I{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${be(t,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class ma extends I{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class ga extends I{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class wa extends I{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class va extends I{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class xa extends I{constructor(t){super(`Filter type "${t}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}const Pa=e=>W(Qe(e));function Ea(e){return Pa(e)}function Ca(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new I("Unable to normalize signature.");return s}const Ia=e=>{const t=typeof e=="string"?e:aa(e);return Ca(t)};function oo(e){return Ea(Ia(e))}const Br=oo;class Be extends I{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class Ar extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}set(t,n){return super.set(t,n),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}const Dn=new Ar(8192);function xn(e,t){if(Dn.has(`${e}.${t}`))return Dn.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=W(Ye(n),"bytes"),s=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const o=`0x${s.join("")}`;return Dn.set(`${e}.${t}`,o),o}function de(e,t){if(!oe(e,{strict:!1}))throw new Be({address:e});return xn(e,t)}const Ba=/^0x[a-fA-F0-9]{40}$/,Un=new Ar(8192);function oe(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(Un.has(r))return Un.get(r);const s=Ba.test(e)?e.toLowerCase()===e?!0:n?xn(e)===e:!0:!1;return Un.set(r,s),s}function pe(e){return typeof e[0]=="string"?Pn(e):Aa(e)}function Aa(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Pn(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function an(e,t,n,{strict:r}={}){return Me(e,{strict:!1})?uo(e,t,n,{strict:r}):co(e,t,n,{strict:r})}function io(e,t){if(typeof t=="number"&&t>0&&t>U(e)-1)throw new Qs({offset:t,position:"start",size:U(e)})}function ao(e,t,n){if(typeof t=="number"&&typeof n=="number"&&U(e)!==n-t)throw new Qs({offset:n,position:"end",size:U(e)})}function co(e,t,n,{strict:r}={}){io(e,t);const s=e.slice(t,n);return r&&ao(s,t,n),s}function uo(e,t,n,{strict:r}={}){io(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&ao(s,t,n),s}function ct(e,t){if(e.length!==t.length)throw new fa({expectedLength:e.length,givenLength:t.length});const n=Sa({params:e,values:t}),r=$r(n);return r.length===0?"0x":r}function Sa({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Sr({param:e[r],value:t[r]}));return n}function Sr({param:e,value:t}){const n=Tr(e.type);if(n){const[r,s]=n;return Ta(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return ja(t,{param:e});if(e.type==="address")return $a(t);if(e.type==="bool")return Na(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return Oa(t,{signed:r})}if(e.type.startsWith("bytes"))return ka(t,{param:e});if(e.type==="string")return Fa(t);throw new ma(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function $r(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=U(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(F(t+s,{size:32})),r.push(a),s+=U(a)):n.push(a)}return pe([...n,...r])}function $a(e){if(!oe(e))throw new Be({address:e});return{dynamic:!1,encoded:_e(e.toLowerCase())}}function Ta(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new wa(e);if(!r&&e.length!==t)throw new da({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=Sr({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=$r(o);if(r){const a=F(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?pe([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:pe(o.map(({encoded:i})=>i))}}function ka(e,{param:t}){const[,n]=t.type.split("bytes"),r=U(e);if(!n){let s=e;return r%32!==0&&(s=_e(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:pe([_e(F(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new la({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:_e(e,{dir:"right"})}}function Na(e){if(typeof e!="boolean")throw new I(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:_e(Qi(e))}}function Oa(e,{signed:t}){return{dynamic:!1,encoded:F(e,{size:32,signed:t})}}function Fa(e){const t=et(e),n=Math.ceil(U(t)/32),r=[];for(let s=0;s<n;s++)r.push(_e(an(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:pe([_e(F(U(t),{size:32})),...r])}}function ja(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=Sr({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?$r(r):pe(r.map(({encoded:s})=>s))}}function Tr(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const kr=e=>an(oo(e),0,4);function Rt(e){const{abi:t,args:n=[],name:r}=e,s=Me(r,{strict:!1}),o=t.filter(a=>s?a.type==="function"?kr(a)===r:a.type==="event"?Br(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,l)=>{const d="inputs"in a&&a.inputs[l];return d?sr(u,d):!1})){if(i&&"inputs"in i&&i.inputs){const u=lo(a.inputs,i.inputs,n);if(u)throw new pa({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||o[0]}function sr(e,t){const n=typeof e,r=t.type;switch(r){case"address":return oe(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>sr(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>sr(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function lo(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return lo(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?oe(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?oe(n[r],{strict:!1}):!1)return i}}const ys="/docs/contract/encodeEventTopics";function Mt(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=Rt({abi:t,name:n});if(!u)throw new ps(n,{docsPath:ys});s=u}if(s.type!=="event")throw new ps(void 0,{docsPath:ys});const o=be(s),i=Br(o);let a=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),l=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(d=>r[d.name]))??[]:[];l.length>0&&(a=(u==null?void 0:u.map((d,f)=>Array.isArray(l[f])?l[f].map((g,b)=>ms({param:d,value:l[f][b]})):l[f]?ms({param:d,value:l[f]}):null))??[])}return[i,...a]}function ms({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return W(Qe(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new xa(e.type);return ct([e],[t])}function En(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:o,response:i,status:a,transport:c})=>{a==="success"&&t===o&&(n[i]=c.request)})),o=>n[o]||e.request}async function fo(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:c}=t,u=En(e,{method:"eth_newFilter"}),l=o?Mt({abi:r,args:s,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?F(i):i,toBlock:typeof c=="bigint"?F(c):c,topics:l}]});return{abi:r,args:s,eventName:o,id:d,request:u(d),strict:!!a,type:"event"}}function Q(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const gs="/docs/contract/encodeFunctionData";function _a(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=Rt({abi:t,args:n,name:r});if(!o)throw new on(r,{docsPath:gs});s=o}if(s.type!=="function")throw new on(void 0,{docsPath:gs});return{abi:[s],functionName:kr(be(s))}}function ke(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:_a(e)})(),s=n[0],o=r,i="inputs"in s&&s.inputs?ct(s.inputs,t??[]):void 0;return Pn([o,i??"0x"])}const ho={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Ra={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Ma={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class ws extends I{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class bo extends I{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}class qa extends I{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecursiveReadLimitExceededError"})}}const La={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new qa({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new bo({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new ws({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new ws({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function po(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(La);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Da(e,t={}){typeof t.size<"u"&&yn(e,{size:t.size});const n=Z(e,t);return wt(n,t)}function Ua(e,t={}){let n=e;if(typeof t.size<"u"&&(yn(n,{size:t.size}),n=qe(n)),n.length>1||n[0]>1)throw new ea(n);return!!n[0]}function fe(e,t={}){typeof t.size<"u"&&yn(e,{size:t.size});const n=Z(e,t);return he(n,t)}function Ga(e,t={}){let n=e;return typeof t.size<"u"&&(yn(n,{size:t.size}),n=qe(n,{dir:"right"})),new TextDecoder().decode(n)}function Cn(e,t){const n=typeof t=="string"?vt(t):t,r=po(n);if(U(n)===0&&e.length>0)throw new wn;if(U(t)&&U(t)<32)throw new no({data:typeof t=="string"?t:Z(t),params:e,size:U(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];r.setPosition(s);const[c,u]=Je(r,a,{staticPosition:0});s+=u,o.push(c)}return o}function Je(e,t,{staticPosition:n}){const r=Tr(t.type);if(r){const[s,o]=r;return Ha(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return Ya(e,t,{staticPosition:n});if(t.type==="address")return za(e);if(t.type==="bool")return Va(e);if(t.type.startsWith("bytes"))return Wa(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Za(e,t);if(t.type==="string")return Ja(e,{staticPosition:n});throw new ga(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const vs=32,or=32;function za(e){const t=e.readBytes(32);return[xn(Z(co(t,-20))),32]}function Ha(e,t,{length:n,staticPosition:r}){if(!n){const i=fe(e.readBytes(or)),a=r+i,c=a+vs;e.setPosition(a);const u=fe(e.readBytes(vs)),l=Pt(t);let d=0;const f=[];for(let g=0;g<u;++g){e.setPosition(c+(l?g*32:d));const[b,h]=Je(e,t,{staticPosition:c});d+=h,f.push(b)}return e.setPosition(r+32),[f,32]}if(Pt(t)){const i=fe(e.readBytes(or)),a=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[l]=Je(e,t,{staticPosition:a});c.push(l)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[a,c]=Je(e,t,{staticPosition:r+s});s+=c,o.push(a)}return[o,s]}function Va(e){return[Ua(e.readBytes(32),{size:32}),32]}function Wa(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=fe(e.readBytes(32));e.setPosition(n+i);const a=fe(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[Z(c),32]}return[Z(e.readBytes(Number.parseInt(s),32)),32]}function Za(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),s=e.readBytes(32);return[r>48?Da(s,{signed:n}):fe(s,{signed:n}),32]}function Ya(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(Pt(t)){const i=fe(e.readBytes(or)),a=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+o);const[l,d]=Je(e,u,{staticPosition:a});o+=d,s[r?c:u==null?void 0:u.name]=l}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[c,u]=Je(e,a,{staticPosition:n});s[r?i:a==null?void 0:a.name]=c,o+=u}return[s,o]}function Ja(e,{staticPosition:t}){const n=fe(e.readBytes(32)),r=t+n;e.setPosition(r);const s=fe(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=Ga(qe(o));return e.setPosition(t+32),[i,32]}function Pt(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Pt);const n=Tr(e.type);return!!(n&&Pt({...e,type:n[1]}))}function Ka(e){const{abi:t,data:n}=e,r=an(n,0,4);if(r==="0x")throw new wn;const o=[...t||[],Ra,Ma].find(i=>i.type==="error"&&r===kr(be(i)));if(!o)throw new ro(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?Cn(o.inputs,an(n,4)):void 0,errorName:o.name}}const z=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function yo({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?z(t[o]):t[o]}`).join(", ")})`}const Xa={gwei:9,wei:18},Qa={ether:-9,wei:9},ec={ether:-18,gwei:-9};function Nr(e,t="wei"){return le(e,Xa[t])}function K(e,t="wei"){return le(e,Qa[t])}class tc extends I{constructor({address:t}){super(`State for account "${t}" is set multiple times.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountStateConflictError"})}}class nc extends I{constructor(){super("state and stateDiff are set on the same account."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"StateAssignmentConflictError"})}}function xs(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function rc(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=xs(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=xs(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function qt(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class sc extends I{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class oc extends I{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",qt(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class ic extends I{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:f}){var b;const g=qt({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof f<"u"&&`${Nr(f)} ${((b=s==null?void 0:s.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${K(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${K(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${K(u)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",g].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=t}}class mo extends I{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class go extends I{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class Ps extends I{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class wo extends I{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:f,stateOverride:g}){var p;const b=n?Q(n):void 0;let h=qt({from:b==null?void 0:b.address,to:d,value:typeof f<"u"&&`${Nr(f)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${K(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${K(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${K(u)} gwei`,nonce:l});g&&(h+=`
${rc(g)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",h].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}}class Ke extends I{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const c=Rt({abi:n,args:r,name:i}),u=c?yo({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,l=c?be(c,{includeName:!0}):void 0,d=qt({address:s&&ta(s),function:l,args:u&&u!=="()"&&`${[...Array((i==null?void 0:i.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Contract Call:",d].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class ir extends I{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a,c;if(n&&n!=="0x")try{i=Ka({abi:t,data:n});const{abiItem:l,errorName:d,args:f}=i;if(d==="Error")c=f[0];else if(d==="Panic"){const[g]=f;c=ho[g]}else{const g=l?be(l,{includeName:!0}):void 0,b=l&&f?yo({abiItem:l,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[g?`Error: ${g}`:"",b&&b!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(l){o=l}else s&&(c=s);let u;o instanceof ro&&(u=o.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.reason=c,this.signature=u}}class ac extends I{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class cc extends I{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CounterfactualDeploymentFailedError"})}}class Or extends I{constructor({data:t,message:n}){super(n||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class mt extends I{constructor({body:t,details:n,headers:r,status:s,url:o}){super("HTTP request failed.",{details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${mn(o)}`,t&&`Request body: ${z(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=r,this.status=s,this.url=o}}class uc extends I{constructor({body:t,details:n,url:r}){super("WebSocket request failed.",{details:n,metaMessages:[`URL: ${mn(r)}`,`Request body: ${z(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class Xe extends I{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${mn(r)}`,`Request body: ${z(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class ar extends I{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${mn(n)}`,`Request body: ${z(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const dc=-1;class X extends I{constructor(t,{code:n,docsPath:r,metaMessages:s,shortMessage:o}){super(o,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.code=t instanceof Xe?t.code:n??dc}}class ut extends X{constructor(t,n){super(t,n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Et extends X{constructor(t){super(t,{code:Et.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(Et,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Ct extends X{constructor(t){super(t,{code:Ct.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(Ct,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class It extends X{constructor(t){super(t,{code:It.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(It,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Bt extends X{constructor(t){super(t,{code:Bt.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(Bt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Le extends X{constructor(t){super(t,{code:Le.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(Le,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class De extends X{constructor(t){super(t,{code:De.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(De,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class At extends X{constructor(t){super(t,{code:At.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(At,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Ie extends X{constructor(t){super(t,{code:Ie.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(Ie,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class tt extends X{constructor(t){super(t,{code:tt.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(tt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class St extends X{constructor(t){super(t,{code:St.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(St,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class nt extends X{constructor(t){super(t,{code:nt.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(nt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class $t extends X{constructor(t){super(t,{code:$t.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty($t,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class D extends ut{constructor(t){super(t,{code:D.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(D,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Tt extends ut{constructor(t){super(t,{code:Tt.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(Tt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class kt extends ut{constructor(t){super(t,{code:kt.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Ue extends ut{constructor(t){super(t,{code:Ue.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(Ue,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class rt extends ut{constructor(t){super(t,{code:rt.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(rt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Ae extends ut{constructor(t){super(t,{code:Ae.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(Ae,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class lc extends X{constructor(t){super(t,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const fc=3;function Nt(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const{code:a,data:c,message:u,shortMessage:l}=e instanceof Or?e:e instanceof I?e.walk(f=>"data"in f)||e.walk():{},d=e instanceof wn?new ac({functionName:o}):[fc,Le.code].includes(a)&&(c||u||l)?new ir({abi:t,data:typeof c=="object"?c.data:c,functionName:o,message:l??u}):e;return new Ke(d,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}class hc extends I{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:f}){var b;const g=qt({from:n==null?void 0:n.address,to:d,value:typeof f<"u"&&`${Nr(f)} ${((b=s==null?void 0:s.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${K(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${K(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${K(u)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",g].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=t}}class Ze extends I{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(Ze,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Ze,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class cn extends I{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${K(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(cn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class cr extends I{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${K(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(cr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class ur extends I{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(ur,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class dr extends I{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(dr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class lr extends I{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(lr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class fr extends I{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(fr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class hr extends I{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(hr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class br extends I{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(br,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class pr extends I{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(pr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class un extends I{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${K(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${K(r)} gwei`:""}).`].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(un,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class In extends I{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}function Fr(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof I?e.walk(s=>s.code===Ze.code):e;return r instanceof I?new Ze({cause:e,message:r.details}):Ze.nodeMessage.test(n)?new Ze({cause:e,message:e.details}):cn.nodeMessage.test(n)?new cn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):cr.nodeMessage.test(n)?new cr({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):ur.nodeMessage.test(n)?new ur({cause:e,nonce:t==null?void 0:t.nonce}):dr.nodeMessage.test(n)?new dr({cause:e,nonce:t==null?void 0:t.nonce}):lr.nodeMessage.test(n)?new lr({cause:e,nonce:t==null?void 0:t.nonce}):fr.nodeMessage.test(n)?new fr({cause:e}):hr.nodeMessage.test(n)?new hr({cause:e,gas:t==null?void 0:t.gas}):br.nodeMessage.test(n)?new br({cause:e,gas:t==null?void 0:t.gas}):pr.nodeMessage.test(n)?new pr({cause:e}):un.nodeMessage.test(n)?new un({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new In({cause:e})}function bc(e,{docsPath:t,...n}){const r=(()=>{const s=Fr(e,n);return s instanceof In?e:s})();return new hc(r,{docsPath:t,...n})}function jr(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const s=t(e||{});return r(s),n}const pc={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3"};function Bn(e){const t={};return typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>Z(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=F(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=F(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=F(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=F(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=F(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=F(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=pc[e.type]),typeof e.value<"u"&&(t.value=F(e.value)),t}function Es(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new ds({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new ds({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function yc(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=F(t)),n!==void 0&&(i.nonce=F(n)),r!==void 0&&(i.state=Es(r)),s!==void 0){if(i.state)throw new nc;i.stateDiff=Es(s)}return i}function vo(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!oe(n,{strict:!1}))throw new Be({address:n});if(t[n])throw new tc({address:n});t[n]=yc(r)}return t}function Lt(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:o}=e,i=t?Q(t):void 0;if(i&&!oe(i.address))throw new Be({address:i.address});if(o&&!oe(o))throw new Be({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new sc;if(r&&r>2n**256n-1n)throw new cn({maxFeePerGas:r});if(s&&r&&s>r)throw new un({maxFeePerGas:r,maxPriorityFeePerGas:s})}class mc extends I{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class _r extends I{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class gc extends I{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${K(t)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class xo extends I{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const Po={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844"};function Eo(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?he(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?he(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Po[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}function Co(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:Eo(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function ye(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){var l,d,f;const o=r??"latest",i=s??!1,a=n!==void 0?F(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,i]},{dedupe:!0}):c=await e.request({method:"eth_getBlockByNumber",params:[a||o,i]},{dedupe:!!a}),!c)throw new xo({blockHash:t,blockNumber:n});return(((f=(d=(l=e.chain)==null?void 0:l.formatters)==null?void 0:d.block)==null?void 0:f.format)||Co)(c)}async function An(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Io(e,t){return Bo(e,t)}async function Bo(e,t){var o,i,a;const{block:n,chain:r=e.chain,request:s}=t||{};if(typeof((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee)=="function"){const c=n||await k(e,ye,"getBlock")({});return r.fees.defaultPriorityFee({block:c,client:e,request:s})}if(typeof((i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee)<"u")return(a=r==null?void 0:r.fees)==null?void 0:a.defaultPriorityFee;try{const c=await e.request({method:"eth_maxPriorityFeePerGas"});return wt(c)}catch{const[c,u]=await Promise.all([n?Promise.resolve(n):k(e,ye,"getBlock")({}),k(e,An,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new _r;const l=u-c.baseFeePerGas;return l<0n?0n:l}}async function Ao(e,t){return yr(e,t)}async function yr(e,t){var f,g;const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>{var b,h;return typeof((b=r==null?void 0:r.fees)==null?void 0:b.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((h=r==null?void 0:r.fees)==null?void 0:h.baseFeeMultiplier)??1.2})();if(i<1)throw new mc;const c=10**(((f=i.toString().split(".")[1])==null?void 0:f.length)??0),u=b=>b*BigInt(Math.ceil(i*c))/BigInt(c),l=n||await k(e,ye,"getBlock")({});if(typeof((g=r==null?void 0:r.fees)==null?void 0:g.estimateFeesPerGas)=="function"){const b=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(b!==null)return b}if(o==="eip1559"){if(typeof l.baseFeePerGas!="bigint")throw new _r;const b=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await Bo(e,{block:l,chain:r,request:s}),h=u(l.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??h+b,maxPriorityFeePerGas:b}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await k(e,An,"getGasPrice")({}))}}async function Rr(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,r?F(r):n]},{dedupe:!!r});return he(s)}function So(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>vt(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>Z(o))}function $o(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>vt(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>vt(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const a=r[i],c=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(i=>Z(i))}function wc(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,a,r)}let vc=class extends na{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ln(this.buffer)}update(t){ls(this);const{view:n,buffer:r,blockLen:s}=this;t=ra(t);const o=t.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const c=Ln(t);for(;s<=o-i;i+=s)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){ls(this),sa(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>s-i&&(this.process(r,0),i=0);for(let d=i;d<s;d++)n[d]=0;wc(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=Ln(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return t.length=s,t.pos=a,t.finished=o,t.destroyed=i,s%n&&t.buffer.set(r),t}};const xc=(e,t,n)=>e&t^~e&n,Pc=(e,t,n)=>e&t^e&n^t&n,Ec=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),xe=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Pe=new Uint32Array(64);let Cc=class extends vc{constructor(){super(64,32,8,!1),this.A=xe[0]|0,this.B=xe[1]|0,this.C=xe[2]|0,this.D=xe[3]|0,this.E=xe[4]|0,this.F=xe[5]|0,this.G=xe[6]|0,this.H=xe[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:a,H:c}=this;return[t,n,r,s,o,i,a,c]}set(t,n,r,s,o,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Pe[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const f=Pe[d-15],g=Pe[d-2],b=ie(f,7)^ie(f,18)^f>>>3,h=ie(g,17)^ie(g,19)^g>>>10;Pe[d]=h+Pe[d-7]+b+Pe[d-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const f=ie(a,6)^ie(a,11)^ie(a,25),g=l+f+xc(a,c,u)+Ec[d]+Pe[d]|0,h=(ie(r,2)^ie(r,13)^ie(r,22))+Pc(r,s,o)|0;l=u,u=c,c=a,a=i+g|0,i=o,o=s,s=r,r=g+h|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,o,i,a,c,u,l)}roundClean(){Pe.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Ic=oa(()=>new Cc);function Bc(e,t){return Ic(Me(e,{strict:!1})?Qe(e):e)}function Ac(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=Bc(t);return s.set([n],0),r==="bytes"?s:Z(s)}function Sc(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const o of t)s.push(Ac({commitment:o,to:r,version:n}));return s}const Cs=6,To=32,Mr=4096,ko=To*Mr,Is=ko*Cs-1-1*Mr*Cs;class $c extends I{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlobSizeTooLargeError"})}}class Tc extends I{constructor(){super("Blob data must not be empty."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EmptyBlobError"})}}function kc(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?vt(e.data):e.data,r=U(n);if(!r)throw new Tc;if(r>Is)throw new $c({maxSize:Is,size:r});const s=[];let o=!0,i=0;for(;o;){const a=po(new Uint8Array(ko));let c=0;for(;c<Mr;){const u=n.slice(i,i+(To-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),o=!1;break}c++,i+=31}s.push(a)}return t==="bytes"?s.map(a=>a.bytes):s.map(a=>Z(a.bytes))}function Nc(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??kc({data:t,to:r}),o=e.commitments??So({blobs:s,kzg:n,to:r}),i=e.proofs??$o({blobs:s,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:o[c],proof:i[c]});return a}function Oc(e){if(e.type)return e.type;if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new oc({transaction:e})}async function Dt(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return he(t)}const No=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function Ut(e,t){const{account:n=e.account,blobs:r,chain:s,gas:o,kzg:i,nonce:a,parameters:c=No,type:u}=t,l=n?Q(n):void 0,d={...t,...l?{from:l==null?void 0:l.address}:{}};let f;async function g(){return f||(f=await k(e,ye,"getBlock")({blockTag:"latest"}),f)}let b;async function h(){return b||(s?s.id:typeof t.chainId<"u"?t.chainId:(b=await k(e,Dt,"getChainId")({}),b))}if((c.includes("blobVersionedHashes")||c.includes("sidecars"))&&r&&i){const p=So({blobs:r,kzg:i});if(c.includes("blobVersionedHashes")){const y=Sc({commitments:p,to:"hex"});d.blobVersionedHashes=y}if(c.includes("sidecars")){const y=$o({blobs:r,commitments:p,kzg:i}),m=Nc({blobs:r,commitments:p,proofs:y,to:"hex"});d.sidecars=m}}if(c.includes("chainId")&&(d.chainId=await h()),c.includes("nonce")&&typeof a>"u"&&l)if(l.nonceManager){const p=await h();d.nonce=await l.nonceManager.consume({address:l.address,chainId:p,client:e})}else d.nonce=await k(e,Rr,"getTransactionCount")({address:l.address,blockTag:"pending"});if((c.includes("fees")||c.includes("type"))&&typeof u>"u")try{d.type=Oc(d)}catch{const p=await g();d.type=typeof(p==null?void 0:p.baseFeePerGas)=="bigint"?"eip1559":"legacy"}if(c.includes("fees"))if(d.type!=="legacy"&&d.type!=="eip2930"){if(typeof d.maxFeePerGas>"u"||typeof d.maxPriorityFeePerGas>"u"){const p=await g(),{maxFeePerGas:y,maxPriorityFeePerGas:m}=await yr(e,{block:p,chain:s,request:d});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<m)throw new gc({maxPriorityFeePerGas:m});d.maxPriorityFeePerGas=m,d.maxFeePerGas=y}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new _r;const p=await g(),{gasPrice:y}=await yr(e,{block:p,chain:s,request:d,type:"legacy"});d.gasPrice=y}return c.includes("gas")&&typeof o>"u"&&(d.gas=await k(e,Gt,"estimateGas")({...d,account:l?{address:l.address,type:"json-rpc"}:void 0})),Lt(d),delete d.parameters,d}async function Gt(e,t){var s,o,i;const n=t.account??e.account,r=n?Q(n):void 0;try{const{accessList:a,blobs:c,blobVersionedHashes:u,blockNumber:l,blockTag:d,data:f,gas:g,gasPrice:b,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:y,nonce:m,to:x,value:w,stateOverride:P,...v}=await Ut(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),C=(l?F(l):void 0)||d,S=vo(P);Lt(t);const $=(i=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionRequest)==null?void 0:i.format,N=($||Bn)({...jr(v,{format:$}),from:r==null?void 0:r.address,accessList:a,blobs:c,blobVersionedHashes:u,data:f,gas:g,gasPrice:b,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:y,nonce:m,to:x,value:w}),_=await e.request({method:"eth_estimateGas",params:S?[N,C??"latest",S]:C?[N,C]:[N]});return BigInt(_)}catch(a){throw bc(a,{...t,account:r,chain:e.chain})}}async function Fc(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=ke({abi:n,args:s,functionName:o});try{return await k(e,Gt,"estimateGas")({data:a,to:r,...i})}catch(c){const u=i.account?Q(i.account):void 0;throw Nt(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:u==null?void 0:u.address})}}const Bs="/docs/contract/decodeEventLog";function qr(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...a]=s;if(!i)throw new ha({docsPath:Bs});const c=t.find(h=>h.type==="event"&&i===Br(be(h)));if(!(c&&"name"in c)||c.type!=="event")throw new so(i,{docsPath:Bs});const{name:u,inputs:l}=c,d=l==null?void 0:l.some(h=>!("name"in h&&h.name));let f=d?[]:{};const g=l.filter(h=>"indexed"in h&&h.indexed);for(let h=0;h<g.length;h++){const p=g[h],y=a[h];if(!y)throw new vn({abiItem:c,param:p});f[d?h:p.name||h]=jc({param:p,value:y})}const b=l.filter(h=>!("indexed"in h&&h.indexed));if(b.length>0){if(n&&n!=="0x")try{const h=Cn(b,n);if(h)if(d)f=[...f,...h];else for(let p=0;p<b.length;p++)f[b[p].name]=h[p]}catch(h){if(o)throw h instanceof no||h instanceof bo?new xt({abiItem:c,data:n,params:b,size:U(n)}):h}else if(o)throw new xt({abiItem:c,data:"0x",params:b,size:0})}return{eventName:u,args:Object.values(f).length>0?f:void 0}}function jc({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:Cn([e],t)[0]}function Lr({abi:e,eventName:t,logs:n,strict:r=!0}){return n.map(s=>{var o;try{const i=qr({...s,abi:e,strict:r});return t&&!t.includes(i.eventName)?null:{...i,...s}}catch(i){let a,c;if(i instanceof so)return null;if(i instanceof xt||i instanceof vn){if(r)return null;a=i.abiItem.name,c=(o=i.abiItem.inputs)==null?void 0:o.some(u=>!("name"in u&&u.name))}return{...s,args:c?[]:{},eventName:a}}}).filter(Boolean)}function Se(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Dr(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:c}={}){const u=c??!1,l=i??(o?[o]:void 0);let d=[];l&&(d=[l.flatMap(h=>Mt({abi:[h],eventName:h.name,args:a}))],o&&(d=d[0]));let f;n?f=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):f=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?F(r):r,toBlock:typeof s=="bigint"?F(s):s}]});const g=f.map(b=>Se(b));return l?Lr({abi:l,logs:g,strict:u}):g}async function Oo(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:c,strict:u}=t,l=i?Rt({abi:n,name:i}):void 0,d=l?void 0:n.filter(f=>f.type==="event");return k(e,Dr,"getLogs")({address:r,args:s,blockHash:o,event:l,events:d,fromBlock:a,toBlock:c,strict:u})}const Gn="/docs/contract/decodeFunctionResult";function dt(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const a=Rt({abi:t,args:n,name:r});if(!a)throw new on(r,{docsPath:Gn});o=a}if(o.type!=="function")throw new on(void 0,{docsPath:Gn});if(!o.outputs)throw new ba(o.name,{docsPath:Gn});const i=Cn(o.outputs,s);if(i.length>1)return i;if(i.length===1)return i[0]}const mr=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Fo=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],jo=[...Fo,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],_c=[...Fo,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],As=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Ss=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Rc=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],Mc="0x82ad56cb",qc="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Lc="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Dc="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";class gr extends I{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class Uc extends I{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id} – ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id} – ${t.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class Gc extends I{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class _o extends I{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}const zn="/docs/contract/encodeDeployData";function Sn(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new ua({docsPath:zn});if(!("inputs"in s))throw new bs({docsPath:zn});if(!s.inputs||s.inputs.length===0)throw new bs({docsPath:zn});const o=ct(s.inputs,n);return Pn([r,o])}function lt({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new gr({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new gr({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function zc(e,{docsPath:t,...n}){const r=(()=>{const s=Fr(e,n);return s instanceof In?e:s})();return new wo(r,{docsPath:t,...n})}const Hn=new Map;function Ur({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const l=c();i();const d=l.map(({args:f})=>f);d.length!==0&&e(d).then(f=>{var g;s&&Array.isArray(f)&&f.sort(s);for(let b=0;b<l.length;b++){const{pendingPromise:h}=l[b];(g=h.resolve)==null||g.call(h,[f[b],f])}}).catch(f=>{var g;for(let b=0;b<l.length;b++){const{pendingPromise:h}=l[b];(g=h.reject)==null||g.call(h,f)}})},i=()=>Hn.delete(t),a=()=>c().map(({args:l})=>l),c=()=>Hn.get(t)||[],u=l=>Hn.set(t,[...c(),l]);return{flush:i,async schedule(l){const d={},f=new Promise((h,p)=>{d.resolve=h,d.reject=p});return(n==null?void 0:n([...a(),l]))&&o(),c().length>0?(u({args:l,pendingPromise:d}),f):(u({args:l,pendingPromise:d}),setTimeout(o,r),f)}}}async function ft(e,t){var T,N,_,Y;const{account:n=e.account,batch:r=!!((T=e.batch)!=null&&T.multicall),blockNumber:s,blockTag:o="latest",accessList:i,blobs:a,code:c,data:u,factory:l,factoryData:d,gas:f,gasPrice:g,maxFeePerBlobGas:b,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:y,to:m,value:x,stateOverride:w,...P}=t,v=n?Q(n):void 0;if(c&&(l||d))throw new I("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(c&&m)throw new I("Cannot provide both `code` & `to` as parameters.");const E=c&&u,C=l&&d&&m&&u,S=E||C,$=E?Wc({code:c,data:u}):C?Zc({data:u,factory:l,factoryData:d,to:m}):u;try{Lt(t);const A=(s?F(s):void 0)||o,O=vo(w),R=(Y=(_=(N=e.chain)==null?void 0:N.formatters)==null?void 0:_.transactionRequest)==null?void 0:Y.format,q=(R||Bn)({...jr(P,{format:R}),from:v==null?void 0:v.address,accessList:i,blobs:a,data:$,gas:f,gasPrice:g,maxFeePerBlobGas:b,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:y,to:S?void 0:m,value:x});if(r&&Hc({request:q})&&!O)try{return await Vc(e,{...q,blockNumber:s,blockTag:o})}catch(H){if(!(H instanceof _o)&&!(H instanceof gr))throw H}const V=await e.request({method:"eth_call",params:O?[q,A,O]:[q,A]});return V==="0x"?{data:void 0}:{data:V}}catch(B){const A=Yc(B),{offchainLookup:O,offchainLookupSignature:R}=await eo(async()=>{const{offchainLookup:M,offchainLookupSignature:q}=await import("./ccip-CIwc-oOs.js");return{offchainLookup:M,offchainLookupSignature:q}},__vite__mapDeps([0,1,2]));if(e.ccipRead!==!1&&(A==null?void 0:A.slice(0,10))===R&&m)return{data:await O(e,{data:A,to:m})};throw S&&(A==null?void 0:A.slice(0,10))==="0x101bb98d"?new cc({factory:l}):zc(B,{...t,account:v,chain:e.chain})}}function Hc({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Mc)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Vc(e,t){var h;const{batchSize:n=1024,wait:r=0}=typeof((h=e.batch)==null?void 0:h.multicall)=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:o="latest",data:i,multicallAddress:a,to:c}=t;let u=a;if(!u){if(!e.chain)throw new _o;u=lt({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=(s?F(s):void 0)||o,{schedule:f}=Ur({id:`${e.uid}.${d}`,wait:r,shouldSplitBatch(p){return p.reduce((m,{data:x})=>m+(x.length-2),0)>n*2},fn:async p=>{const y=p.map(w=>({allowFailure:!0,callData:w.data,target:w.to})),m=ke({abi:mr,args:[y],functionName:"aggregate3"}),x=await e.request({method:"eth_call",params:[{data:m,to:u},d]});return dt({abi:mr,args:[y],functionName:"aggregate3",data:x||"0x"})}}),[{returnData:g,success:b}]=await f({data:i,to:c});if(!b)throw new Or({data:g});return g==="0x"?{data:void 0}:{data:g}}function Wc(e){const{code:t,data:n}=e;return Sn({abi:to(["constructor(bytes, bytes)"]),bytecode:qc,args:[t,n]})}function Zc(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Sn({abi:to(["constructor(address, bytes, address, bytes)"]),bytecode:Lc,args:[s,t,n,r]})}function Yc(e){var n;if(!(e instanceof I))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function ce(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=ke({abi:n,args:s,functionName:o});try{const{data:c}=await k(e,ft,"call")({...i,data:a,to:r});return dt({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw Nt(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function Ro(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:i,...a}=t,c=a.account?Q(a.account):e.account,u=ke({abi:n,args:s,functionName:i});try{const{data:l}=await k(e,ft,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...a,account:c}),d=dt({abi:n,args:s,functionName:i,data:l||"0x"}),f=n.filter(g=>"name"in g&&g.name===t.functionName);return{result:d,request:{abi:f,address:r,args:s,dataSuffix:o,functionName:i,...a,account:c}}}catch(l){throw Nt(l,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c==null?void 0:c.address})}}const Vn=new Map,$s=new Map;let Jc=0;function $e(e,t,n){const r=++Jc,s=()=>Vn.get(e)||[],o=()=>{const l=s();Vn.set(e,l.filter(d=>d.id!==r))},i=()=>{const l=$s.get(e);s().length===1&&l&&l(),o()},a=s();if(Vn.set(e,[...a,{id:r,fns:t}]),a.length>0)return i;const c={};for(const l in t)c[l]=(...d)=>{var g,b;const f=s();if(f.length!==0)for(const h of f)(b=(g=h.fns)[l])==null||b.call(g,...d)};const u=n(c);return typeof u=="function"&&$s.set(e,u),i}async function dn(e){return new Promise(t=>setTimeout(t,e))}function zt(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await(n==null?void 0:n(a))??r;await dn(c);const u=async()=>{s&&(await e({unpoll:o}),await dn(r),u())};u()})(),o}const Kc=new Map,Xc=new Map;function Qc(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,Kc),r=t(e,Xc);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function eu(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Qc(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const tu=e=>`blockNumber.${e}`;async function ht(e,{cacheTime:t=e.cacheTime}={}){const n=await eu(()=>e.request({method:"eth_blockNumber"}),{cacheKey:tu(e.uid),cacheTime:t});return BigInt(n)}async function $n(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>Se(o));return!("abi"in t)||!t.abi?s:Lr({abi:t.abi,logs:s,strict:n})}async function Tn(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Mo(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:c,onLogs:u,poll:l,pollingInterval:d=e.pollingInterval,strict:f}=t;return(typeof l<"u"?l:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))?(()=>{const p=f??!1,y=z(["watchContractEvent",r,s,o,e.uid,i,d,p,a]);return $e(y,{onLogs:u,onError:c},m=>{let x;a!==void 0&&(x=a-1n);let w,P=!1;const v=zt(async()=>{var E;if(!P){try{w=await k(e,fo,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:p,fromBlock:a})}catch{}P=!0;return}try{let C;if(w)C=await k(e,$n,"getFilterChanges")({filter:w});else{const S=await k(e,ht,"getBlockNumber")({});x&&x!==S?C=await k(e,Oo,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:x+1n,toBlock:S,strict:p}):C=[],x=S}if(C.length===0)return;if(o)m.onLogs(C);else for(const S of C)m.onLogs([S])}catch(C){w&&C instanceof De&&(P=!1),(E=m.onError)==null||E.call(m,C)}},{emitOnBegin:!0,interval:d});return async()=>{w&&await k(e,Tn,"uninstallFilter")({filter:w}),v()}})})():(()=>{const p=f??!1,y=z(["watchContractEvent",r,s,o,e.uid,i,d,p]);let m=!0,x=()=>m=!1;return $e(y,{onLogs:u,onError:c},w=>((async()=>{try{const P=(()=>{if(e.transport.type==="fallback"){const C=e.transport.transports.find(S=>S.config.type==="webSocket");return C?C.value:e.transport}return e.transport})(),v=i?Mt({abi:n,eventName:i,args:s}):[],{unsubscribe:E}=await P.subscribe({params:["logs",{address:r,topics:v}],onData(C){var $;if(!m)return;const S=C.result;try{const{eventName:T,args:N}=qr({abi:n,data:S.data,topics:S.topics,strict:f}),_=Se(S,{args:N,eventName:T});w.onLogs([_])}catch(T){let N,_;if(T instanceof xt||T instanceof vn){if(f)return;N=T.abiItem.name,_=($=T.abiItem.inputs)==null?void 0:$.some(B=>!("name"in B&&B.name))}const Y=Se(S,{args:_?[]:{},eventName:N});w.onLogs([Y])}},onError(C){var S;(S=w.onError)==null||S.call(w,C)}});x=E,m||x()}catch(P){c==null||c(P)}})(),()=>x()))})()}class kn extends I{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:t,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}function qo({chain:e,currentChainId:t}){if(!e)throw new Gc;if(t!==e.id)throw new Uc({chain:e,currentChainId:t})}function nu(e,{docsPath:t,...n}){const r=(()=>{const s=Fr(e,n);return s instanceof In?e:s})();return new ic(r,{docsPath:t,...n})}async function Gr(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}async function Nn(e,t){var y,m,x,w;const{account:n=e.account,chain:r=e.chain,accessList:s,blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:f,to:g,value:b,...h}=t;if(!n)throw new kn({docsPath:"/docs/actions/wallet/sendTransaction"});const p=Q(n);try{Lt(t);let P;if(r!==null&&(P=await k(e,Dt,"getChainId")({}),qo({currentChainId:P,chain:r})),p.type==="local"){const S=await k(e,Ut,"prepareTransactionRequest")({account:p,accessList:s,blobs:o,chain:r,chainId:P,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:f,parameters:[...No,"sidecars"],to:g,value:b,...h}),$=(y=r==null?void 0:r.serializers)==null?void 0:y.transaction,T=await p.signTransaction(S,{serializer:$});return await k(e,Gr,"sendRawTransaction")({serializedTransaction:T})}const v=(w=(x=(m=e.chain)==null?void 0:m.formatters)==null?void 0:x.transactionRequest)==null?void 0:w.format,C=(v||Bn)({...jr(h,{format:v}),accessList:s,blobs:o,chainId:P,data:i,from:p.address,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:f,to:g,value:b});return await e.request({method:"eth_sendTransaction",params:[C]},{retryCount:0})}catch(P){throw nu(P,{...t,account:p,chain:t.chain||void 0})}}async function Lo(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:i,...a}=t,c=ke({abi:n,args:s,functionName:i});return k(e,Nn,"sendTransaction")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...a})}class ru extends I{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip712DomainNotFoundError"})}}async function su(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,a,c,u,l,d]=await k(e,ce,"readContract")({abi:ou,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:u,salt:l},extensions:d,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new ru({address:n}):i}}const ou=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function iu(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:o,blockExplorers:i}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:F(n),chainName:r,nativeCurrency:s,rpcUrls:o.default.http,blockExplorerUrls:i?Object.values(i).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}const wr=256;let Yt=wr,Jt;function Do(e=11){if(!Jt||Yt+e>wr*2){Jt="",Yt=0;for(let t=0;t<wr;t++)Jt+=(256+Math.random()*256|0).toString(16).substring(1)}return Jt.substring(Yt,Yt+++e)}function Uo(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,ccipRead:r,key:s="base",name:o="Base Client",pollingInterval:i=4e3,type:a="base"}=e,c=e.chain,u=e.account?Q(e.account):void 0,{config:l,request:d,value:f}=e.transport({chain:c,pollingInterval:i}),g={...l,...f},b={account:u,batch:t,cacheTime:n,ccipRead:r,chain:c,key:s,name:o,pollingInterval:i,request:d,transport:g,type:a,uid:Do()};function h(p){return y=>{const m=y(p);for(const w in b)delete m[w];const x={...p,...m};return Object.assign(x,{extend:h(x)})}}return Object.assign(b,{extend:h(b)})}const Kt=new Ar(8192);function au(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(Kt.get(n))return Kt.get(n);const r=e().finally(()=>Kt.delete(n));return Kt.set(n,r),r}function Ot(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const i=async({count:a=0}={})=>{const c=async({error:u})=>{const l=typeof t=="function"?t({count:a,error:u}):t;l&&await dn(l),i({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});o(u)}};i()})}function cu(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,retryDelay:o=150,retryCount:i=3,uid:a}={...t,...r},c=s?W(et(`${a}.${z(n)}`)):void 0;return au(()=>Ot(async()=>{try{return await e(n)}catch(u){const l=u;switch(l.code){case Et.code:throw new Et(l);case Ct.code:throw new Ct(l);case It.code:throw new It(l);case Bt.code:throw new Bt(l);case Le.code:throw new Le(l);case De.code:throw new De(l);case At.code:throw new At(l);case Ie.code:throw new Ie(l);case tt.code:throw new tt(l);case St.code:throw new St(l);case nt.code:throw new nt(l);case $t.code:throw new $t(l);case D.code:throw new D(l);case Tt.code:throw new Tt(l);case kt.code:throw new kt(l);case Ue.code:throw new Ue(l);case rt.code:throw new rt(l);case Ae.code:throw new Ae(l);case 5e3:throw new D(l);default:throw u instanceof I?u:new lc(l)}}},{delay:({count:u,error:l})=>{var d;if(l&&l instanceof mt){const f=(d=l==null?void 0:l.headers)==null?void 0:d.get("Retry-After");if(f!=null&&f.match(/\d/))return Number.parseInt(f)*1e3}return~~(1<<u)*o},retryCount:i,shouldRetry:({error:u})=>uu(u)}),{enabled:s,id:c})}}function uu(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===nt.code||e.code===Le.code:e instanceof mt&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function Ht({key:e,name:t,request:n,retryCount:r=3,retryDelay:s=150,timeout:o,type:i},a){const c=Do();return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:s,timeout:o,type:i},request:cu(n,{retryCount:r,retryDelay:s,uid:c}),value:a}}function zr(e,t={}){const{key:n="custom",name:r="Custom Provider",retryDelay:s}=t;return({retryCount:o})=>Ht({key:n,name:r,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:s,type:"custom"})}function du(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,retryCount:o,retryDelay:i}=t;return({chain:a,pollingInterval:c=4e3,timeout:u,...l})=>{let d=e,f=()=>{};const g=Ht({key:n,name:r,async request({method:b,params:h}){const p=async(y=0)=>{const m=d[y]({...l,chain:a,retryCount:0,timeout:u});try{const x=await m.request({method:b,params:h});return f({method:b,params:h,response:x,transport:m,status:"success"}),x}catch(x){if(f({error:x,method:b,params:h,transport:m,status:"error"}),lu(x)||y===d.length-1)throw x;return p(y+1)}};return p()},retryCount:o,retryDelay:i,type:"fallback"},{onResponse:b=>f=b,transports:d.map(b=>b({chain:a,retryCount:0}))});if(s){const b=typeof s=="object"?s:{};fu({chain:a,interval:b.interval??c,onTransports:h=>d=h,sampleCount:b.sampleCount,timeout:b.timeout,transports:d,weights:b.weights})}return g}}function lu(e){return"code"in e&&typeof e.code=="number"&&(e.code===tt.code||e.code===D.code||e.code===5e3)}function fu({chain:e,interval:t=4e3,onTransports:n,sampleCount:r=10,timeout:s=1e3,transports:o,weights:i={}}){const{stability:a=.7,latency:c=.3}=i,u=[],l=async()=>{const d=await Promise.all(o.map(async b=>{const h=b({chain:e,retryCount:0,timeout:s}),p=Date.now();let y,m;try{await h.request({method:"net_listening"}),m=1}catch{m=0}finally{y=Date.now()}return{latency:y-p,success:m}}));u.push(d),u.length>r&&u.shift();const f=Math.max(...u.map(b=>Math.max(...b.map(({latency:h})=>h)))),g=o.map((b,h)=>{const p=u.map(P=>P[h].latency),m=1-p.reduce((P,v)=>P+v,0)/p.length/f,x=u.map(P=>P[h].success),w=x.reduce((P,v)=>P+v,0)/x.length;return w===0?[0,h]:[c*m+a*w,h]}).sort((b,h)=>h[0]-b[0]);n(g.map(([,b])=>o[b])),await dn(t),l()};l()}class Go extends I{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function On(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let i;try{const a=new AbortController;n>0&&(i=setTimeout(()=>{r?a.abort():o(t)},n)),s(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&o(t),o(a)}finally{clearTimeout(i)}})()})}function hu(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const vr=hu();function zo(e,t={}){return{async request(n){var d;const{body:r,onRequest:s=t.onRequest,onResponse:o=t.onResponse,timeout:i=t.timeout??1e4}=n,a={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:l}=a;try{const f=await On(async({signal:b})=>{const h={...a,body:Array.isArray(r)?z(r.map(m=>({jsonrpc:"2.0",id:m.id??vr.take(),...m}))):z({jsonrpc:"2.0",id:r.id??vr.take(),...r}),headers:{...c,"Content-Type":"application/json"},method:u||"POST",signal:l||(i>0?b:null)},p=new Request(e,h);return s&&await s(p),await fetch(e,h)},{errorInstance:new ar({body:r,url:e}),timeout:i,signal:!0});o&&await o(f);let g;if((d=f.headers.get("Content-Type"))!=null&&d.startsWith("application/json")?g=await f.json():(g=await f.text(),g=JSON.parse(g||"{}")),!f.ok)throw new mt({body:r,details:z(g.error)||f.statusText,headers:f.headers,status:f.status,url:e});return g}catch(f){throw f instanceof mt||f instanceof ar?f:new mt({body:r,details:f.message,url:e})}}}}function bu(e,t={}){const{batch:n,fetchOptions:r,key:s="http",name:o="HTTP JSON-RPC",onFetchRequest:i,onFetchResponse:a,retryDelay:c}=t;return({chain:u,retryCount:l,timeout:d})=>{const{batchSize:f=1e3,wait:g=0}=typeof n=="object"?n:{},b=t.retryCount??l,h=d??t.timeout??1e4,p=e||(u==null?void 0:u.rpcUrls.default.http[0]);if(!p)throw new Go;const y=zo(p,{fetchOptions:r,onRequest:i,onResponse:a,timeout:h});return Ht({key:s,name:o,async request({method:m,params:x}){const w={method:m,params:x},{schedule:P}=Ur({id:p,wait:g,shouldSplitBatch(S){return S.length>f},fn:S=>y.request({body:S}),sort:(S,$)=>S.id-$.id}),v=async S=>n?P(S):[await y.request({body:S})],[{error:E,result:C}]=await v(w);if(E)throw new Xe({body:w,error:E,url:p});return C},retryCount:b,retryDelay:c,timeout:h,type:"http"},{fetchOptions:r,url:p})}}function Hr(e,t){var r,s,o,i,a,c;if(!(e instanceof I))return!1;const n=e.walk(u=>u instanceof ir);return n instanceof ir?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((o=n.data)==null?void 0:o.errorName)==="ResolverNotContract"||((i=n.data)==null?void 0:i.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===ho[50]):!1}function Ho(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Me(t)?t:null}function tn(e){let t=new Uint8Array(32).fill(0);if(!e)return Z(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Ho(n[r]),o=s?Qe(s):W(Ye(n[r]),"bytes");t=W(pe([t,o]),"bytes")}return Z(t)}function pu(e){return`[${e.slice(2)}]`}function yu(e){const t=new Uint8Array(32).fill(0);return e?Ho(e)||W(Ye(e)):Z(t)}function Fn(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Ye(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=Ye(s[o]);i.byteLength>255&&(i=Ye(pu(yu(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Vo(e,{blockNumber:t,blockTag:n,coinType:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){let c=a;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=lt({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u=ke({abi:Ss,functionName:"addr",...r!=null?{args:[tn(s),BigInt(r)]}:{args:[tn(s)]}}),l={address:c,abi:jo,functionName:"resolve",args:[Ge(Fn(s)),u],blockNumber:t,blockTag:n},d=k(e,ce,"readContract"),f=o?await d({...l,args:[...l.args,o]}):await d(l);if(f[0]==="0x")return null;const g=dt({abi:Ss,args:r!=null?[tn(s),BigInt(r)]:void 0,functionName:"addr",data:f[0]});return g==="0x"||qe(g)==="0x00"?null:g}catch(u){if(i)throw u;if(Hr(u,"resolve"))return null;throw u}}class mu extends I{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class yt extends I{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class Vr extends I{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class gu extends I{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const wu=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,vu=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,xu=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Pu=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Eu(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Ts(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Wo({uri:e,gatewayUrls:t}){const n=xu.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Ts(t==null?void 0:t.ipfs,"https://ipfs.io"),s=Ts(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(wu),{protocol:i,subpath:a,target:c,subtarget:u=""}=(o==null?void 0:o.groups)||{},l=i==="ipns:/"||a==="ipns/",d=i==="ipfs:/"||a==="ipfs/"||vu.test(e);if(e.startsWith("http")&&!l&&!d){let g=e;return t!=null&&t.arweave&&(g=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:g,isOnChain:!1,isEncoded:!1}}if((l||d)&&c)return{uri:`${r}/${l?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let f=e.replace(Pu,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new Vr({uri:e})}function Zo(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new mu({data:e});return e.image||e.image_url||e.image_data}async function Cu({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Wr({gatewayUrls:e,uri:Zo(n)})}catch{throw new Vr({uri:t})}}async function Wr({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Wo({uri:t,gatewayUrls:e});if(r||await Eu(n))return n;throw new Vr({uri:t})}function Iu(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[a,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new yt({reason:"Only EIP-155 supported"});if(!i)throw new yt({reason:"Chain ID not found"});if(!c)throw new yt({reason:"Contract address not found"});if(!s)throw new yt({reason:"Token ID not found"});if(!a)throw new yt({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function Bu(e,{nft:t}){if(t.namespace==="erc721")return ce(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return ce(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new gu({namespace:t.namespace})}async function Au(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Su(e,{gatewayUrls:t,record:n}):Wr({uri:n,gatewayUrls:t})}async function Su(e,{gatewayUrls:t,record:n}){const r=Iu(n),s=await Bu(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=Wo({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=a?atob(o.replace("data:application/json;base64,","")):o,l=JSON.parse(u);return Wr({uri:Zo(l),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Cu({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function Zr(e,{blockNumber:t,blockTag:n,name:r,key:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){let c=a;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=lt({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u={address:c,abi:jo,functionName:"resolve",args:[Ge(Fn(r)),ke({abi:As,functionName:"text",args:[tn(r),s]})],blockNumber:t,blockTag:n},l=k(e,ce,"readContract"),d=o?await l({...u,args:[...u.args,o]}):await l(u);if(d[0]==="0x")return null;const f=dt({abi:As,functionName:"text",data:d[0]});return f===""?null:f}catch(u){if(i)throw u;if(Hr(u,"resolve"))return null;throw u}}async function Yo(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){const c=await k(e,Zr,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!c)return null;try{return await Au(e,{record:c,gatewayUrls:r})}catch{return null}}async function Jo(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:s,strict:o,universalResolverAddress:i}){let a=i;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=lt({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:a,abi:_c,functionName:"reverse",args:[Ge(Fn(c))],blockNumber:n,blockTag:r},l=k(e,ce,"readContract"),[d,f]=s?await l({...u,args:[...u.args,s]}):await l(u);return t.toLowerCase()!==f.toLowerCase()?null:d}catch(u){if(o)throw u;if(Hr(u,"reverse"))return null;throw u}}async function Ko(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let o=s;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=lt({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[i]=await k(e,ce,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Ge(Fn(r))],blockNumber:t,blockTag:n});return i}async function $u(e){const t=En(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Xo(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const c=s??(r?[r]:void 0),u=En(e,{method:"eth_newFilter"});let l=[];c&&(l=[c.flatMap(g=>Mt({abi:[g],eventName:g.name,args:n}))],r&&(l=l[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?F(o):o,toBlock:typeof a=="bigint"?F(a):a,...l.length?{topics:l}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:u(d),strict:!!i,toBlock:a,type:"event"}}async function Qo(e){const t=En(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function ei(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?F(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function Tu(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function ti(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?F(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),he(o)}async function ln(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?F(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}function ku(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function ni(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=n?F(n):void 0,i=await e.request({method:"eth_feeHistory",params:[F(t),o||r,s]},{dedupe:!!o});return ku(i)}async function Nu(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>Se(o));return t.abi?Lr({abi:t.abi,logs:s,strict:n}):s}function Ou(e,t){if(!oe(e,{strict:!1}))throw new Be({address:e});if(!oe(t,{strict:!1}))throw new Be({address:t});return e.toLowerCase()===t.toLowerCase()}const Fu=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ju=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Wn=new Map;async function _u(e){const{getSocket:t,key:n="socket",reconnect:r=!0,url:s}=e,{attempts:o=5,delay:i=2e3}=typeof r=="object"?r:{};let a=Wn.get(`${n}:${s}`);if(a)return a;let c=0;const{schedule:u}=Ur({id:`${n}:${s}`,fn:async()=>{const f=new Map,g=new Map;let b,h;async function p(){return t({onError(y){var m,x;b=y;for(const w of f.values())(m=w.onError)==null||m.call(w,b);for(const w of g.values())(x=w.onError)==null||x.call(w,b);f.clear(),g.clear(),r&&c<o&&setTimeout(async()=>{c++,h=await p().catch(console.error)},i)},onOpen(){b=void 0,c=0},onResponse(y){const m=y.method==="eth_subscription",x=m?y.params.subscription:y.id,w=m?g:f,P=w.get(x);P&&P.onResponse(y),m||w.delete(x)}})}return h=await p(),b=void 0,a={close(){h.close(),Wn.delete(`${n}:${s}`)},socket:h,request({body:y,onError:m,onResponse:x}){b&&m&&m(b);const w=y.id??vr.take(),P=v=>{var E;typeof v.id=="number"&&w!==v.id||(y.method==="eth_subscribe"&&typeof v.result=="string"&&g.set(v.result,{onResponse:P,onError:m}),y.method==="eth_unsubscribe"&&g.delete((E=y.params)==null?void 0:E[0]),x(v))};f.set(w,{onResponse:P,onError:m});try{h.request({body:{jsonrpc:"2.0",id:w,...y}})}catch(v){m==null||m(v)}},requestAsync({body:y,timeout:m=1e4}){return On(()=>new Promise((x,w)=>this.request({body:y,onError:w,onResponse:x})),{errorInstance:new ar({body:y,url:s}),timeout:m})},requests:f,subscriptions:g,url:s},Wn.set(`${n}:${s}`,a),[a]}}),[l,[d]]=await u();return d}async function nn(e,t={}){const{reconnect:n}=t;return _u({async getSocket({onError:r,onOpen:s,onResponse:o}){const i=await eo(()=>import("./native-CJ5et6AR.js"),[]).then(d=>d.WebSocket),a=new i(e);function c(){a.removeEventListener("close",c),a.removeEventListener("message",u),a.removeEventListener("error",r),a.removeEventListener("open",s)}function u({data:d}){o(JSON.parse(d))}a.addEventListener("close",c),a.addEventListener("message",u),a.addEventListener("error",r),a.addEventListener("open",s),a.readyState===i.CONNECTING&&await new Promise((d,f)=>{a&&(a.onopen=d,a.onerror=f)});const{close:l}=a;return Object.assign(a,{close(){l.bind(a)(),c()},request({body:d}){if(a.readyState===a.CLOSED||a.readyState===a.CLOSING)throw new uc({body:d,url:a.url,details:"Socket is closed."});return a.send(JSON.stringify(d))}})},reconnect:n,url:e})}function Ru(e,{body:t,onError:n,onResponse:r}){return e.request({body:t,onError:n,onResponse:r}),e}async function Mu(e,{body:t,timeout:n=1e4}){return e.requestAsync({body:t,timeout:n})}async function qu(e){const t=await nn(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}const Zn={http(e,t){return zo(e).request(t)},webSocket:Ru,webSocketAsync:Mu};function Lu(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:ci({domain:t}),...e.types};ai({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(Du({domain:t,types:s})),r!=="EIP712Domain"&&o.push(ri({data:n,primaryType:r,types:s})),W(pe(o))}function Du({domain:e,types:t}){return ri({data:e,primaryType:"EIP712Domain",types:t})}function ri({data:e,primaryType:t,types:n}){const r=si({data:e,primaryType:t,types:n});return W(r)}function si({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Uu({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=ii({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(a)}return ct(r,s)}function Uu({primaryType:e,types:t}){const n=Ge(Gu({primaryType:e,types:t}));return W(n)}function Gu({primaryType:e,types:t}){let n="";const r=oi({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function oi({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])oi({primaryType:o.type,types:t},n);return n}function ii({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},W(si({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},W(r)];if(n==="string")return[{type:"bytes32"},W(Ge(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>ii({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},W(ct(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}function zu(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(c,u)=>{const l={...u};for(const d of c){const{name:f,type:g}=d;g==="address"&&(l[f]=l[f].toLowerCase())}return l},i=s.EIP712Domain?t?o(s.EIP712Domain,t):{}:{},a=(()=>{if(r!=="EIP712Domain")return o(s[r],n)})();return z({domain:i,message:a,primaryType:r,types:s})}function ai(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,a)=>{for(const c of i){const{name:u,type:l}=c,d=a[u],f=l.match(ju);if(f&&(typeof d=="number"||typeof d=="bigint")){const[h,p,y]=f;F(d,{signed:p==="int",size:Number.parseInt(y)/8})}if(l==="address"&&typeof d=="string"&&!oe(d))throw new Be({address:d});const g=l.match(Fu);if(g){const[h,p]=g;if(p&&U(d)!==Number.parseInt(p))throw new ya({expectedSize:Number.parseInt(p),givenSize:U(d)})}const b=s[l];b&&o(b,d)}};s.EIP712Domain&&t&&o(s.EIP712Domain,t),r!=="EIP712Domain"&&o(s[r],n)}function ci({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}const Hu={"0x0":"reverted","0x1":"success"};function Vu(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>Se(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?he(e.transactionIndex):null,status:e.status?Hu[e.status]:null,type:e.type?Po[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const Wu=`Ethereum Signed Message:
`;function Zu(e){const t=typeof e=="string"?et(e):typeof e.raw=="string"?e.raw:Z(e.raw),n=et(`${Wu}${U(t)}`);return pe([n,t])}function ui(e,t){return W(Zu(e),t)}const di="0x6492649264926492649264926492649264926492649264926492649264926492";function Yu(e){return uo(e,-32)===di}function Ju(e){const{address:t,data:n,signature:r}=e;return Pn([ct([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),di])}function Ku(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function Xu(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?he(e.nonce):void 0,storageProof:e.storageProof?Ku(e.storageProof):void 0}}async function li(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?F(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,i||o]});return Xu(a)}async function fi(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?F(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function Vt(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){var l,d,f;const i=r||"latest",a=n!==void 0?F(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,F(o)]},{dedupe:!0}):c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||i,F(o)]},{dedupe:!!a}),!c)throw new mo({blockHash:t,blockNumber:n,blockTag:i,hash:s,index:o});return(((f=(d=(l=e.chain)==null?void 0:l.formatters)==null?void 0:d.transaction)==null?void 0:f.format)||Eo)(c)}async function hi(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([k(e,ht,"getBlockNumber")({}),t?k(e,Vt,"getTransaction")({hash:t}):void 0]),o=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return o?r-o+1n:0n}async function fn(e,{hash:t}){var s,o,i;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new go({hash:t});return(((i=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionReceipt)==null?void 0:i.format)||Vu)(n)}async function bi(e,t){var p;const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:o,multicallAddress:i,stateOverride:a}=t,c=t.contracts,u=r??(typeof((p=e.batch)==null?void 0:p.multicall)=="object"&&e.batch.multicall.batchSize||1024);let l=i;if(!l){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");l=lt({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=[[]];let f=0,g=0;for(let y=0;y<c.length;y++){const{abi:m,address:x,args:w,functionName:P}=c[y];try{const v=ke({abi:m,args:w,functionName:P});g+=(v.length-2)/2,u>0&&g>u&&d[f].length>0&&(f++,g=(v.length-2)/2,d[f]=[]),d[f]=[...d[f],{allowFailure:!0,callData:v,target:x}]}catch(v){const E=Nt(v,{abi:m,address:x,args:w,docsPath:"/docs/contract/multicall",functionName:P});if(!n)throw E;d[f]=[...d[f],{allowFailure:!0,callData:"0x",target:x}]}}const b=await Promise.allSettled(d.map(y=>k(e,ce,"readContract")({abi:mr,address:l,args:[y],blockNumber:s,blockTag:o,functionName:"aggregate3",stateOverride:a}))),h=[];for(let y=0;y<b.length;y++){const m=b[y];if(m.status==="rejected"){if(!n)throw m.reason;for(let w=0;w<d[y].length;w++)h.push({status:"failure",error:m.reason,result:void 0});continue}const x=m.value;for(let w=0;w<x.length;w++){const{returnData:P,success:v}=x[w],{callData:E}=d[y][w],{abi:C,address:S,functionName:$,args:T}=c[h.length];try{if(E==="0x")throw new wn;if(!v)throw new Or({data:P});const N=dt({abi:C,args:T,data:P,functionName:$});h.push(n?{result:N,status:"success"}:N)}catch(N){const _=Nt(N,{abi:C,address:S,args:T,docsPath:"/docs/contract/multicall",functionName:$});if(!n)throw _;h.push({error:_,result:void 0,status:"failure"})}}}if(h.length!==c.length)throw new I("multicall results mismatch");return h}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pi=BigInt(0),jn=BigInt(1),Qu=BigInt(2),_n=e=>e instanceof Uint8Array,ed=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function st(e){if(!_n(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=ed[e[n]];return t}function yi(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Yr(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function ot(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const s=r*2,o=e.slice(s,s+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[r]=i}return n}function Re(e){return Yr(st(e))}function Jr(e){if(!_n(e))throw new Error("Uint8Array expected");return Yr(st(Uint8Array.from(e).reverse()))}function it(e,t){return ot(e.toString(16).padStart(t*2,"0"))}function Kr(e,t){return it(e,t).reverse()}function td(e){return ot(yi(e))}function se(e,t,n){let r;if(typeof t=="string")try{r=ot(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(_n(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${e} expected ${n} bytes, got ${s}`);return r}function Ft(...e){const t=new Uint8Array(e.reduce((r,s)=>r+s.length,0));let n=0;return e.forEach(r=>{if(!_n(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function mi(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function nd(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function rd(e){let t;for(t=0;e>pi;e>>=jn,t+=1);return t}function sd(e,t){return e>>BigInt(t)&jn}const od=(e,t,n)=>e|(n?jn:pi)<<BigInt(t),Xr=e=>(Qu<<BigInt(e-1))-jn,Yn=e=>new Uint8Array(e),ks=e=>Uint8Array.from(e);function gi(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Yn(e),s=Yn(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},a=(...d)=>n(s,r,...d),c=(d=Yn())=>{s=a(ks([0]),d),r=a(),d.length!==0&&(s=a(ks([1]),d),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<t;){r=a();const g=r.slice();f.push(g),d+=r.length}return Ft(...f)};return(d,f)=>{i(),c(d);let g;for(;!(g=f(u()));)c();return i(),g}}const id={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Wt(e,t,n={}){const r=(s,o,i)=>{const a=id[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const c=e[s];if(!(i&&c===void 0)&&!a(c,e))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${o}`)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}const ad=Object.freeze(Object.defineProperty({__proto__:null,bitGet:sd,bitLen:rd,bitMask:Xr,bitSet:od,bytesToHex:st,bytesToNumberBE:Re,bytesToNumberLE:Jr,concatBytes:Ft,createHmacDrbg:gi,ensureBytes:se,equalBytes:mi,hexToBytes:ot,hexToNumber:Yr,numberToBytesBE:it,numberToBytesLE:Kr,numberToHexUnpadded:yi,numberToVarBytesBE:td,utf8ToBytes:nd,validateObject:Wt},Symbol.toStringTag,{value:"Module"}));function cd(e,t){const n=Me(e)?Qe(e):e,r=Me(t)?Qe(t):t;return mi(n,r)}function Ns(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function wi(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function ud(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ns(e.outputLen),Ns(e.blockLen)}function hn(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function dd(e,t){wi(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Jn=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vi=e=>e instanceof Uint8Array,Kn=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),ae=(e,t)=>e<<32-t|e>>>t,ld=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ld)throw new Error("Non little-endian hardware is not supported");function fd(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Qr(e){if(typeof e=="string"&&(e=fd(e)),!vi(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function hd(...e){const t=new Uint8Array(e.reduce((r,s)=>r+s.length,0));let n=0;return e.forEach(r=>{if(!vi(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}class xi{clone(){return this._cloneInto()}}function bd(e){const t=r=>e().update(Qr(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function pd(e=32){if(Jn&&typeof Jn.getRandomValues=="function")return Jn.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function yd(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,a,r)}class md extends xi{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Kn(this.buffer)}update(t){hn(this);const{view:n,buffer:r,blockLen:s}=this;t=Qr(t);const o=t.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const c=Kn(t);for(;s<=o-i;i+=s)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){hn(this),dd(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>s-i&&(this.process(r,0),i=0);for(let d=i;d<s;d++)n[d]=0;yd(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=Kn(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return t.length=s,t.pos=a,t.finished=o,t.destroyed=i,s%n&&t.buffer.set(r),t}}const gd=(e,t,n)=>e&t^~e&n,wd=(e,t,n)=>e&t^e&n^t&n,vd=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ee=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ce=new Uint32Array(64);class xd extends md{constructor(){super(64,32,8,!1),this.A=Ee[0]|0,this.B=Ee[1]|0,this.C=Ee[2]|0,this.D=Ee[3]|0,this.E=Ee[4]|0,this.F=Ee[5]|0,this.G=Ee[6]|0,this.H=Ee[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:a,H:c}=this;return[t,n,r,s,o,i,a,c]}set(t,n,r,s,o,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Ce[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const f=Ce[d-15],g=Ce[d-2],b=ae(f,7)^ae(f,18)^f>>>3,h=ae(g,17)^ae(g,19)^g>>>10;Ce[d]=h+Ce[d-7]+b+Ce[d-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const f=ae(a,6)^ae(a,11)^ae(a,25),g=l+f+gd(a,c,u)+vd[d]+Ce[d]|0,h=(ae(r,2)^ae(r,13)^ae(r,22))+wd(r,s,o)|0;l=u,u=c,c=a,a=i+g|0,i=o,o=s,s=r,r=g+h|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,o,i,a,c,u,l)}roundClean(){Ce.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Pd=bd(()=>new xd);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const G=BigInt(0),L=BigInt(1),Fe=BigInt(2),Ed=BigInt(3),xr=BigInt(4),Os=BigInt(5),Fs=BigInt(8);BigInt(9);BigInt(16);function J(e,t){const n=e%t;return n>=G?n:t+n}function Cd(e,t,n){if(n<=G||t<G)throw new Error("Expected power/modulo > 0");if(n===L)return G;let r=L;for(;t>G;)t&L&&(r=r*e%n),e=e*e%n,t>>=L;return r}function ee(e,t,n){let r=e;for(;t-- >G;)r*=r,r%=n;return r}function Pr(e,t){if(e===G||t<=G)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=J(e,t),r=t,s=G,o=L;for(;n!==G;){const a=r/n,c=r%n,u=s-o*a;r=n,n=c,s=o,o=u}if(r!==L)throw new Error("invert: does not exist");return J(s,t)}function Id(e){const t=(e-L)/Fe;let n,r,s;for(n=e-L,r=0;n%Fe===G;n/=Fe,r++);for(s=Fe;s<e&&Cd(s,t,e)!==e-L;s++);if(r===1){const i=(e+L)/xr;return function(c,u){const l=c.pow(u,i);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const o=(n+L)/Fe;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),n),d=a.pow(c,o),f=a.pow(c,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let g=1;for(let h=a.sqr(f);g<u&&!a.eql(h,a.ONE);g++)h=a.sqr(h);const b=a.pow(l,L<<BigInt(u-g-1));l=a.sqr(b),d=a.mul(d,b),f=a.mul(f,l),u=g}return d}}function Bd(e){if(e%xr===Ed){const t=(e+L)/xr;return function(r,s){const o=r.pow(s,t);if(!r.eql(r.sqr(o),s))throw new Error("Cannot find square root");return o}}if(e%Fs===Os){const t=(e-Os)/Fs;return function(r,s){const o=r.mul(s,Fe),i=r.pow(o,t),a=r.mul(s,i),c=r.mul(r.mul(a,Fe),i),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return Id(e)}const Ad=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Sd(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Ad.reduce((r,s)=>(r[s]="function",r),t);return Wt(e,n)}function $d(e,t,n){if(n<G)throw new Error("Expected power > 0");if(n===G)return e.ONE;if(n===L)return t;let r=e.ONE,s=t;for(;n>G;)n&L&&(r=e.mul(r,s)),s=e.sqr(s),n>>=L;return r}function Td(e,t){const n=new Array(t.length),r=t.reduce((o,i,a)=>e.is0(i)?o:(n[a]=o,e.mul(o,i)),e.ONE),s=e.inv(r);return t.reduceRight((o,i,a)=>e.is0(i)?o:(n[a]=e.mul(o,n[a]),e.mul(o,i)),s),n}function Pi(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function kd(e,t,n=!1,r={}){if(e<=G)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:o}=Pi(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const i=Bd(e),a=Object.freeze({ORDER:e,BITS:s,BYTES:o,MASK:Xr(s),ZERO:G,ONE:L,create:c=>J(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return G<=c&&c<e},is0:c=>c===G,isOdd:c=>(c&L)===L,neg:c=>J(-c,e),eql:(c,u)=>c===u,sqr:c=>J(c*c,e),add:(c,u)=>J(c+u,e),sub:(c,u)=>J(c-u,e),mul:(c,u)=>J(c*u,e),pow:(c,u)=>$d(a,c,u),div:(c,u)=>J(c*Pr(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Pr(c,e),sqrt:r.sqrt||(c=>i(a,c)),invertBatch:c=>Td(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>n?Kr(c,o):it(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return n?Jr(c):Re(c)}});return Object.freeze(a)}function Ei(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Ci(e){const t=Ei(e);return t+Math.ceil(t/2)}function Nd(e,t,n=!1){const r=e.length,s=Ei(t),o=Ci(t);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const i=n?Re(e):Jr(e),a=J(i,t-L)+L;return n?Kr(a,s):it(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Od=BigInt(0),Xn=BigInt(1);function Fd(e,t){const n=(s,o)=>{const i=o.negate();return s?i:o},r=s=>{const o=Math.ceil(t/s)+1,i=2**(s-1);return{windows:o,windowSize:i}};return{constTimeNegate:n,unsafeLadder(s,o){let i=e.ZERO,a=s;for(;o>Od;)o&Xn&&(i=i.add(a)),a=a.double(),o>>=Xn;return i},precomputeWindow(s,o){const{windows:i,windowSize:a}=r(o),c=[];let u=s,l=u;for(let d=0;d<i;d++){l=u,c.push(l);for(let f=1;f<a;f++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(s,o,i){const{windows:a,windowSize:c}=r(s);let u=e.ZERO,l=e.BASE;const d=BigInt(2**s-1),f=2**s,g=BigInt(s);for(let b=0;b<a;b++){const h=b*c;let p=Number(i&d);i>>=g,p>c&&(p-=f,i+=Xn);const y=h,m=h+Math.abs(p)-1,x=b%2!==0,w=p<0;p===0?l=l.add(n(x,o[y])):u=u.add(n(w,o[m]))}return{p:u,f:l}},wNAFCached(s,o,i,a){const c=s._WINDOW_SIZE||1;let u=o.get(s);return u||(u=this.precomputeWindow(s,c),c!==1&&o.set(s,a(u))),this.wNAF(c,u,i)}}}function Ii(e){return Sd(e.Fp),Wt(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Pi(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function jd(e){const t=Ii(e);Wt(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:_d,hexToBytes:Rd}=ad,je={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=je;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:_d(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=je,n=typeof e=="string"?Rd(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:s,l:o}=je._parseInt(n.subarray(2)),{d:i,l:a}=je._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:s,s:i}},hexFromSig(e){const t=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=t(n(e.s)),s=t(n(e.r)),o=r.length/2,i=s.length/2,a=n(o),c=n(i);return`30${n(i+o+4)}02${c}${s}02${a}${r}`}},ue=BigInt(0),te=BigInt(1);BigInt(2);const js=BigInt(3);BigInt(4);function Md(e){const t=jd(e),{Fp:n}=t,r=t.toBytes||((b,h,p)=>{const y=h.toAffine();return Ft(Uint8Array.from([4]),n.toBytes(y.x),n.toBytes(y.y))}),s=t.fromBytes||(b=>{const h=b.subarray(1),p=n.fromBytes(h.subarray(0,n.BYTES)),y=n.fromBytes(h.subarray(n.BYTES,2*n.BYTES));return{x:p,y}});function o(b){const{a:h,b:p}=t,y=n.sqr(b),m=n.mul(y,b);return n.add(n.add(m,n.mul(b,h)),p)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function i(b){return typeof b=="bigint"&&ue<b&&b<t.n}function a(b){if(!i(b))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(b){const{allowedPrivateKeyLengths:h,nByteLength:p,wrapPrivateKey:y,n:m}=t;if(h&&typeof b!="bigint"){if(b instanceof Uint8Array&&(b=st(b)),typeof b!="string"||!h.includes(b.length))throw new Error("Invalid key");b=b.padStart(p*2,"0")}let x;try{x=typeof b=="bigint"?b:Re(se("private key",b,p))}catch{throw new Error(`private key must be ${p} bytes, hex or bigint, not ${typeof b}`)}return y&&(x=J(x,m)),a(x),x}const u=new Map;function l(b){if(!(b instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(h,p,y){if(this.px=h,this.py=p,this.pz=y,h==null||!n.isValid(h))throw new Error("x required");if(p==null||!n.isValid(p))throw new Error("y required");if(y==null||!n.isValid(y))throw new Error("z required")}static fromAffine(h){const{x:p,y}=h||{};if(!h||!n.isValid(p)||!n.isValid(y))throw new Error("invalid affine point");if(h instanceof d)throw new Error("projective point not allowed");const m=x=>n.eql(x,n.ZERO);return m(p)&&m(y)?d.ZERO:new d(p,y,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(h){const p=n.invertBatch(h.map(y=>y.pz));return h.map((y,m)=>y.toAffine(p[m])).map(d.fromAffine)}static fromHex(h){const p=d.fromAffine(s(se("pointHex",h)));return p.assertValidity(),p}static fromPrivateKey(h){return d.BASE.multiply(c(h))}_setWindowSize(h){this._WINDOW_SIZE=h,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:h,y:p}=this.toAffine();if(!n.isValid(h)||!n.isValid(p))throw new Error("bad point: x or y not FE");const y=n.sqr(p),m=o(h);if(!n.eql(y,m))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:h}=this.toAffine();if(n.isOdd)return!n.isOdd(h);throw new Error("Field doesn't support isOdd")}equals(h){l(h);const{px:p,py:y,pz:m}=this,{px:x,py:w,pz:P}=h,v=n.eql(n.mul(p,P),n.mul(x,m)),E=n.eql(n.mul(y,P),n.mul(w,m));return v&&E}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:h,b:p}=t,y=n.mul(p,js),{px:m,py:x,pz:w}=this;let P=n.ZERO,v=n.ZERO,E=n.ZERO,C=n.mul(m,m),S=n.mul(x,x),$=n.mul(w,w),T=n.mul(m,x);return T=n.add(T,T),E=n.mul(m,w),E=n.add(E,E),P=n.mul(h,E),v=n.mul(y,$),v=n.add(P,v),P=n.sub(S,v),v=n.add(S,v),v=n.mul(P,v),P=n.mul(T,P),E=n.mul(y,E),$=n.mul(h,$),T=n.sub(C,$),T=n.mul(h,T),T=n.add(T,E),E=n.add(C,C),C=n.add(E,C),C=n.add(C,$),C=n.mul(C,T),v=n.add(v,C),$=n.mul(x,w),$=n.add($,$),C=n.mul($,T),P=n.sub(P,C),E=n.mul($,S),E=n.add(E,E),E=n.add(E,E),new d(P,v,E)}add(h){l(h);const{px:p,py:y,pz:m}=this,{px:x,py:w,pz:P}=h;let v=n.ZERO,E=n.ZERO,C=n.ZERO;const S=t.a,$=n.mul(t.b,js);let T=n.mul(p,x),N=n.mul(y,w),_=n.mul(m,P),Y=n.add(p,y),B=n.add(x,w);Y=n.mul(Y,B),B=n.add(T,N),Y=n.sub(Y,B),B=n.add(p,m);let A=n.add(x,P);return B=n.mul(B,A),A=n.add(T,_),B=n.sub(B,A),A=n.add(y,m),v=n.add(w,P),A=n.mul(A,v),v=n.add(N,_),A=n.sub(A,v),C=n.mul(S,B),v=n.mul($,_),C=n.add(v,C),v=n.sub(N,C),C=n.add(N,C),E=n.mul(v,C),N=n.add(T,T),N=n.add(N,T),_=n.mul(S,_),B=n.mul($,B),N=n.add(N,_),_=n.sub(T,_),_=n.mul(S,_),B=n.add(B,_),T=n.mul(N,B),E=n.add(E,T),T=n.mul(A,B),v=n.mul(Y,v),v=n.sub(v,T),T=n.mul(Y,N),C=n.mul(A,C),C=n.add(C,T),new d(v,E,C)}subtract(h){return this.add(h.negate())}is0(){return this.equals(d.ZERO)}wNAF(h){return g.wNAFCached(this,u,h,p=>{const y=n.invertBatch(p.map(m=>m.pz));return p.map((m,x)=>m.toAffine(y[x])).map(d.fromAffine)})}multiplyUnsafe(h){const p=d.ZERO;if(h===ue)return p;if(a(h),h===te)return this;const{endo:y}=t;if(!y)return g.unsafeLadder(this,h);let{k1neg:m,k1:x,k2neg:w,k2:P}=y.splitScalar(h),v=p,E=p,C=this;for(;x>ue||P>ue;)x&te&&(v=v.add(C)),P&te&&(E=E.add(C)),C=C.double(),x>>=te,P>>=te;return m&&(v=v.negate()),w&&(E=E.negate()),E=new d(n.mul(E.px,y.beta),E.py,E.pz),v.add(E)}multiply(h){a(h);let p=h,y,m;const{endo:x}=t;if(x){const{k1neg:w,k1:P,k2neg:v,k2:E}=x.splitScalar(p);let{p:C,f:S}=this.wNAF(P),{p:$,f:T}=this.wNAF(E);C=g.constTimeNegate(w,C),$=g.constTimeNegate(v,$),$=new d(n.mul($.px,x.beta),$.py,$.pz),y=C.add($),m=S.add(T)}else{const{p:w,f:P}=this.wNAF(p);y=w,m=P}return d.normalizeZ([y,m])[0]}multiplyAndAddUnsafe(h,p,y){const m=d.BASE,x=(P,v)=>v===ue||v===te||!P.equals(m)?P.multiplyUnsafe(v):P.multiply(v),w=x(this,p).add(x(h,y));return w.is0()?void 0:w}toAffine(h){const{px:p,py:y,pz:m}=this,x=this.is0();h==null&&(h=x?n.ONE:n.inv(m));const w=n.mul(p,h),P=n.mul(y,h),v=n.mul(m,h);if(x)return{x:n.ZERO,y:n.ZERO};if(!n.eql(v,n.ONE))throw new Error("invZ was invalid");return{x:w,y:P}}isTorsionFree(){const{h,isTorsionFree:p}=t;if(h===te)return!0;if(p)return p(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h,clearCofactor:p}=t;return h===te?this:p?p(d,this):this.multiplyUnsafe(t.h)}toRawBytes(h=!0){return this.assertValidity(),r(d,this,h)}toHex(h=!0){return st(this.toRawBytes(h))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const f=t.nBitLength,g=Fd(d,t.endo?Math.ceil(f/2):f);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:i}}function qd(e){const t=Ii(e);return Wt(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Ld(e){const t=qd(e),{Fp:n,n:r}=t,s=n.BYTES+1,o=2*n.BYTES+1;function i(B){return ue<B&&B<n.ORDER}function a(B){return J(B,r)}function c(B){return Pr(B,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:f}=Md({...t,toBytes(B,A,O){const R=A.toAffine(),M=n.toBytes(R.x),q=Ft;return O?q(Uint8Array.from([A.hasEvenY()?2:3]),M):q(Uint8Array.from([4]),M,n.toBytes(R.y))},fromBytes(B){const A=B.length,O=B[0],R=B.subarray(1);if(A===s&&(O===2||O===3)){const M=Re(R);if(!i(M))throw new Error("Point is not on curve");const q=d(M);let V=n.sqrt(q);const H=(V&te)===te;return(O&1)===1!==H&&(V=n.neg(V)),{x:M,y:V}}else if(A===o&&O===4){const M=n.fromBytes(R.subarray(0,n.BYTES)),q=n.fromBytes(R.subarray(n.BYTES,2*n.BYTES));return{x:M,y:q}}else throw new Error(`Point of length ${A} was invalid. Expected ${s} compressed bytes or ${o} uncompressed bytes`)}}),g=B=>st(it(B,t.nByteLength));function b(B){const A=r>>te;return B>A}function h(B){return b(B)?a(-B):B}const p=(B,A,O)=>Re(B.slice(A,O));class y{constructor(A,O,R){this.r=A,this.s=O,this.recovery=R,this.assertValidity()}static fromCompact(A){const O=t.nByteLength;return A=se("compactSignature",A,O*2),new y(p(A,0,O),p(A,O,2*O))}static fromDER(A){const{r:O,s:R}=je.toSig(se("DER",A));return new y(O,R)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(A){return new y(this.r,this.s,A)}recoverPublicKey(A){const{r:O,s:R,recovery:M}=this,q=E(se("msgHash",A));if(M==null||![0,1,2,3].includes(M))throw new Error("recovery id invalid");const V=M===2||M===3?O+t.n:O;if(V>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const H=M&1?"03":"02",ge=u.fromHex(H+g(V)),we=c(V),ze=a(-q*we),bt=a(R*we),ve=u.BASE.multiplyAndAddUnsafe(ge,ze,bt);if(!ve)throw new Error("point at infinify");return ve.assertValidity(),ve}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return ot(this.toDERHex())}toDERHex(){return je.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ot(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}const m={isValidPrivateKey(B){try{return l(B),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const B=Ci(t.n);return Nd(t.randomBytes(B),t.n)},precompute(B=8,A=u.BASE){return A._setWindowSize(B),A.multiply(BigInt(3)),A}};function x(B,A=!0){return u.fromPrivateKey(B).toRawBytes(A)}function w(B){const A=B instanceof Uint8Array,O=typeof B=="string",R=(A||O)&&B.length;return A?R===s||R===o:O?R===2*s||R===2*o:B instanceof u}function P(B,A,O=!0){if(w(B))throw new Error("first arg must be private key");if(!w(A))throw new Error("second arg must be public key");return u.fromHex(A).multiply(l(B)).toRawBytes(O)}const v=t.bits2int||function(B){const A=Re(B),O=B.length*8-t.nBitLength;return O>0?A>>BigInt(O):A},E=t.bits2int_modN||function(B){return a(v(B))},C=Xr(t.nBitLength);function S(B){if(typeof B!="bigint")throw new Error("bigint expected");if(!(ue<=B&&B<C))throw new Error(`bigint expected < 2^${t.nBitLength}`);return it(B,t.nByteLength)}function $(B,A,O=T){if(["recovered","canonical"].some(Ne=>Ne in O))throw new Error("sign() legacy options not supported");const{hash:R,randomBytes:M}=t;let{lowS:q,prehash:V,extraEntropy:H}=O;q==null&&(q=!0),B=se("msgHash",B),V&&(B=se("prehashed msgHash",R(B)));const ge=E(B),we=l(A),ze=[S(we),S(ge)];if(H!=null){const Ne=H===!0?M(n.BYTES):H;ze.push(se("extraEntropy",Ne))}const bt=Ft(...ze),ve=ge;function qn(Ne){const He=v(Ne);if(!f(He))return;const as=c(He),Ve=u.BASE.multiply(He).toAffine(),re=a(Ve.x);if(re===ue)return;const We=a(as*a(ve+re*we));if(We===ue)return;let cs=(Ve.x===re?0:2)|Number(Ve.y&te),us=We;return q&&b(We)&&(us=h(We),cs^=1),new y(re,us,cs)}return{seed:bt,k2sig:qn}}const T={lowS:t.lowS,prehash:!1},N={lowS:t.lowS,prehash:!1};function _(B,A,O=T){const{seed:R,k2sig:M}=$(B,A,O),q=t;return gi(q.hash.outputLen,q.nByteLength,q.hmac)(R,M)}u.BASE._setWindowSize(8);function Y(B,A,O,R=N){var Ve;const M=B;if(A=se("msgHash",A),O=se("publicKey",O),"strict"in R)throw new Error("options.strict was renamed to lowS");const{lowS:q,prehash:V}=R;let H,ge;try{if(typeof M=="string"||M instanceof Uint8Array)try{H=y.fromDER(M)}catch(re){if(!(re instanceof je.Err))throw re;H=y.fromCompact(M)}else if(typeof M=="object"&&typeof M.r=="bigint"&&typeof M.s=="bigint"){const{r:re,s:We}=M;H=new y(re,We)}else throw new Error("PARSE");ge=u.fromHex(O)}catch(re){if(re.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(q&&H.hasHighS())return!1;V&&(A=t.hash(A));const{r:we,s:ze}=H,bt=E(A),ve=c(ze),qn=a(bt*ve),Ne=a(we*ve),He=(Ve=u.BASE.multiplyAndAddUnsafe(ge,qn,Ne))==null?void 0:Ve.toAffine();return He?a(He.x)===we:!1}return{CURVE:t,getPublicKey:x,getSharedSecret:P,sign:_,verify:Y,ProjectivePoint:u,Signature:y,utils:m}}class Bi extends xi{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,ud(t);const r=Qr(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(t){return hn(this),this.iHash.update(t),this}digestInto(t){hn(this),wi(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ai=(e,t,n)=>new Bi(e,t).update(n).digest();Ai.create=(e,t)=>new Bi(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Dd(e){return{hash:e,hmac:(t,...n)=>Ai(e,t,hd(...n)),randomBytes:pd}}function Ud(e,t){const n=r=>Ld({...e,...Dd(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Si=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),_s=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Gd=BigInt(1),Er=BigInt(2),Rs=(e,t)=>(e+t/Er)/t;function zd(e){const t=Si,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,d=ee(l,n,t)*l%t,f=ee(d,n,t)*l%t,g=ee(f,Er,t)*u%t,b=ee(g,s,t)*g%t,h=ee(b,o,t)*b%t,p=ee(h,a,t)*h%t,y=ee(p,c,t)*p%t,m=ee(y,a,t)*h%t,x=ee(m,n,t)*l%t,w=ee(x,i,t)*b%t,P=ee(w,r,t)*u%t,v=ee(P,Er,t);if(!Cr.eql(Cr.sqr(v),e))throw new Error("Cannot find square root");return v}const Cr=kd(Si,void 0,void 0,{sqrt:zd}),$i=Ud({a:BigInt(0),b:BigInt(7),Fp:Cr,n:_s,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=_s,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Gd*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=Rs(o*e,t),c=Rs(-r*e,t);let u=J(e-a*n-c*s,t),l=J(-a*r-c*o,t);const d=u>i,f=l>i;if(d&&(u=t-u),f&&(l=t-l),u>i||l>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:f,k2:l}}}},Pd);BigInt(0);$i.ProjectivePoint;function Hd({r:e,s:t,v:n,yParity:r}){const s=(()=>{if(r===0||r===1)return r;if(n&&(n===27n||n===28n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})();return`0x${new $i.Signature(wt(e),wt(t)).toCompactHex()}${s===0?"1b":"1c"}`}async function es(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:i,...a}=t,c=Me(i)?i:typeof i=="object"&&"r"in i&&"s"in i?Hd(i):Z(i),u=await(async()=>!r&&!s||Yu(c)||await k(e,ln,"getCode")({address:n})?c:Ju({address:r,data:s,signature:c}))();try{const{data:l}=await k(e,ft,"call")({data:Sn({abi:Rc,args:[n,o,u],bytecode:Dc}),...a});return cd(l??"0x0","0x1")}catch(l){if(l instanceof wo)return!1;throw l}}async function Ti(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const a=ui(n);return es(e,{address:t,factory:r,factoryData:s,hash:a,signature:o,...i})}async function ki(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:c,domain:u,...l}=t,d=Lu({message:i,primaryType:a,types:c,domain:u});return es(e,{address:n,factory:r,factoryData:s,hash:d,signature:o,...l})}function ts(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket");let c;return a?(()=>{const d=z(["watchBlockNumber",e.uid,t,n,i]);return $e(d,{onBlockNumber:r,onError:s},f=>zt(async()=>{var g;try{const b=await k(e,ht,"getBlockNumber")({cacheTime:0});if(c){if(b===c)return;if(b-c>1&&n)for(let h=c+1n;h<b;h++)f.onBlockNumber(h,c),c=h}(!c||b>c)&&(f.onBlockNumber(b,c),c=b)}catch(b){(g=f.onError)==null||g.call(f,b)}},{emitOnBegin:t,interval:i}))})():(()=>{const d=z(["watchBlockNumber",e.uid,t,n]);return $e(d,{onBlockNumber:r,onError:s},f=>{let g=!0,b=()=>g=!1;return(async()=>{try{const h=(()=>{if(e.transport.type==="fallback"){const y=e.transport.transports.find(m=>m.config.type==="webSocket");return y?y.value:e.transport}return e.transport})(),{unsubscribe:p}=await h.subscribe({params:["newHeads"],onData(y){var x;if(!g)return;const m=wt((x=y.result)==null?void 0:x.number);f.onBlockNumber(m,c),c=m},onError(y){var m;(m=f.onError)==null||m.call(f,y)}});b=p,g||b()}catch(h){s==null||s(h)}})(),()=>b()})})()}async function Ni(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,retryCount:o=6,retryDelay:i=({count:c})=>~~(1<<c)*200,timeout:a}){const c=z(["waitForTransactionReceipt",e.uid,n]);let u=0,l,d,f,g=!1;return new Promise((b,h)=>{a&&setTimeout(()=>h(new Ps({hash:n})),a);const p=$e(c,{onReplaced:r,resolve:b,reject:h},y=>{const m=k(e,ts,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(x){const w=v=>{m(),v(),p()};let P=x;if(!g){u>o&&w(()=>y.reject(new Ps({hash:n})));try{if(f){if(t>1&&(!f.blockNumber||P-f.blockNumber+1n<t))return;w(()=>y.resolve(f));return}if(l||(g=!0,await Ot(async()=>{l=await k(e,Vt,"getTransaction")({hash:n}),l.blockNumber&&(P=l.blockNumber)},{delay:i,retryCount:o}),g=!1),f=await k(e,fn,"getTransactionReceipt")({hash:n}),t>1&&(!f.blockNumber||P-f.blockNumber+1n<t))return;w(()=>y.resolve(f))}catch(v){if(v instanceof mo||v instanceof go){if(!l){g=!1;return}try{d=l,g=!0;const E=await Ot(()=>k(e,ye,"getBlock")({blockNumber:P,includeTransactions:!0}),{delay:i,retryCount:o,shouldRetry:({error:$})=>$ instanceof xo});g=!1;const C=E.transactions.find(({from:$,nonce:T})=>$===d.from&&T===d.nonce);if(!C||(f=await k(e,fn,"getTransactionReceipt")({hash:C.hash}),t>1&&(!f.blockNumber||P-f.blockNumber+1n<t)))return;let S="replaced";C.to===d.to&&C.value===d.value?S="repriced":C.from===C.to&&C.value===0n&&(S="cancelled"),w(()=>{var $;($=y.onReplaced)==null||$.call(y,{reason:S,replacedTransaction:d,transaction:C,transactionReceipt:f}),y.resolve(f)})}catch(E){w(()=>y.reject(E))}}else w(()=>y.reject(v))}finally{u++}}}})})})}function Oi(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),l=i??!1;let d;return u?(()=>{const b=z(["watchBlocks",e.uid,t,n,r,l,c]);return $e(b,{onBlock:s,onError:o},h=>zt(async()=>{var p;try{const y=await k(e,ye,"getBlock")({blockTag:t,includeTransactions:l});if(y.number&&(d!=null&&d.number)){if(y.number===d.number)return;if(y.number-d.number>1&&n)for(let m=(d==null?void 0:d.number)+1n;m<y.number;m++){const x=await k(e,ye,"getBlock")({blockNumber:m,includeTransactions:l});h.onBlock(x,d),d=x}}(!(d!=null&&d.number)||t==="pending"&&!(y!=null&&y.number)||y.number&&y.number>d.number)&&(h.onBlock(y,d),d=y)}catch(y){(p=h.onError)==null||p.call(h,y)}},{emitOnBegin:r,interval:c}))})():(()=>{let b=!0,h=()=>b=!1;return(async()=>{try{const p=(()=>{if(e.transport.type==="fallback"){const m=e.transport.transports.find(x=>x.config.type==="webSocket");return m?m.value:e.transport}return e.transport})(),{unsubscribe:y}=await p.subscribe({params:["newHeads"],onData(m){var P,v,E;if(!b)return;const w=(((E=(v=(P=e.chain)==null?void 0:P.formatters)==null?void 0:v.block)==null?void 0:E.format)||Co)(m.result);s(w,d),d=w},onError(m){o==null||o(m)}});h=y,b||h()}catch(p){o==null||o(p)}})(),()=>h()})()}function Vd(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:c,poll:u,pollingInterval:l=e.pollingInterval,strict:d}){const f=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),g=d??!1;return f?(()=>{const p=z(["watchEvent",t,n,r,e.uid,s,l,i]);return $e(p,{onLogs:c,onError:a},y=>{let m;i!==void 0&&(m=i-1n);let x,w=!1;const P=zt(async()=>{var v;if(!w){try{x=await k(e,Xo,"createEventFilter")({address:t,args:n,event:s,events:o,strict:g,fromBlock:i})}catch{}w=!0;return}try{let E;if(x)E=await k(e,$n,"getFilterChanges")({filter:x});else{const C=await k(e,ht,"getBlockNumber")({});m&&m!==C?E=await k(e,Dr,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:m+1n,toBlock:C}):E=[],m=C}if(E.length===0)return;if(r)y.onLogs(E);else for(const C of E)y.onLogs([C])}catch(E){x&&E instanceof De&&(w=!1),(v=y.onError)==null||v.call(y,E)}},{emitOnBegin:!0,interval:l});return async()=>{x&&await k(e,Tn,"uninstallFilter")({filter:x}),P()}})})():(()=>{let p=!0,y=()=>p=!1;return(async()=>{try{const m=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(E=>E.config.type==="webSocket");return v?v.value:e.transport}return e.transport})(),x=o??(s?[s]:void 0);let w=[];x&&(w=[x.flatMap(E=>Mt({abi:[E],eventName:E.name,args:n}))],s&&(w=w[0]));const{unsubscribe:P}=await m.subscribe({params:["logs",{address:t,topics:w}],onData(v){var C;if(!p)return;const E=v.result;try{const{eventName:S,args:$}=qr({abi:x??[],data:E.data,topics:E.topics,strict:g}),T=Se(E,{args:$,eventName:S});c([T])}catch(S){let $,T;if(S instanceof xt||S instanceof vn){if(d)return;$=S.abiItem.name,T=(C=S.abiItem.inputs)==null?void 0:C.some(_=>!("name"in _&&_.name))}const N=Se(E,{args:T?[]:{},eventName:$});c([N])}},onError(v){a==null||a(v)}});y=P,p||y()}catch(m){a==null||a(m)}})(),()=>y()})()}function Fi(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket")?(()=>{const u=z(["watchPendingTransactions",e.uid,t,o]);return $e(u,{onTransactions:r,onError:n},l=>{let d;const f=zt(async()=>{var g;try{if(!d)try{d=await k(e,Qo,"createPendingTransactionFilter")({});return}catch(h){throw f(),h}const b=await k(e,$n,"getFilterChanges")({filter:d});if(b.length===0)return;if(t)l.onTransactions(b);else for(const h of b)l.onTransactions([h])}catch(b){(g=l.onError)==null||g.call(l,b)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await k(e,Tn,"uninstallFilter")({filter:d}),f()}})})():(()=>{let u=!0,l=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!u)return;const g=f.result;r([g])},onError(f){n==null||n(f)}});l=d,u||l()}catch(d){n==null||n(d)}})(),()=>l()})()}function Wd(e){var d,f,g;const{scheme:t,statement:n,...r}=((d=e.match(Zd))==null?void 0:d.groups)??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:c,...u}=((f=e.match(Yd))==null?void 0:f.groups)??{},l=(g=e.split("Resources:")[1])==null?void 0:g.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...l?{resources:l}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const Zd=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Yd=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Jd(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||t&&!Ou(r.address,t))return!1}catch{return!1}return!0}async function Kd(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:c=new Date,...u}=t,l=Wd(s);if(!l.address||!Jd({address:n,domain:r,message:l,nonce:o,scheme:i,time:c}))return!1;const f=ui(s);return es(e,{address:l.address,hash:f,signature:a,...u})}function Xd(e){return{call:t=>ft(e,t),createBlockFilter:()=>$u(e),createContractEventFilter:t=>fo(e,t),createEventFilter:t=>Xo(e,t),createPendingTransactionFilter:()=>Qo(e),estimateContractGas:t=>Fc(e,t),estimateGas:t=>Gt(e,t),getBalance:t=>ei(e,t),getBlobBaseFee:()=>Tu(e),getBlock:t=>ye(e,t),getBlockNumber:t=>ht(e,t),getBlockTransactionCount:t=>ti(e,t),getBytecode:t=>ln(e,t),getChainId:()=>Dt(e),getCode:t=>ln(e,t),getContractEvents:t=>Oo(e,t),getEip712Domain:t=>su(e,t),getEnsAddress:t=>Vo(e,t),getEnsAvatar:t=>Yo(e,t),getEnsName:t=>Jo(e,t),getEnsResolver:t=>Ko(e,t),getEnsText:t=>Zr(e,t),getFeeHistory:t=>ni(e,t),estimateFeesPerGas:t=>Ao(e,t),getFilterChanges:t=>$n(e,t),getFilterLogs:t=>Nu(e,t),getGasPrice:()=>An(e),getLogs:t=>Dr(e,t),getProof:t=>li(e,t),estimateMaxPriorityFeePerGas:t=>Io(e,t),getStorageAt:t=>fi(e,t),getTransaction:t=>Vt(e,t),getTransactionConfirmations:t=>hi(e,t),getTransactionCount:t=>Rr(e,t),getTransactionReceipt:t=>fn(e,t),multicall:t=>bi(e,t),prepareTransactionRequest:t=>Ut(e,t),readContract:t=>ce(e,t),sendRawTransaction:t=>Gr(e,t),simulateContract:t=>Ro(e,t),verifyMessage:t=>Ti(e,t),verifySiweMessage:t=>Kd(e,t),verifyTypedData:t=>ki(e,t),uninstallFilter:t=>Tn(e,t),waitForTransactionReceipt:t=>Ni(e,t),watchBlocks:t=>Oi(e,t),watchBlockNumber:t=>ts(e,t),watchContractEvent:t=>Mo(e,t),watchEvent:t=>Vd(e,t),watchPendingTransactions:t=>Fi(e,t)}}function ji(e,t){const{abi:n,args:r,bytecode:s,...o}=t,i=Sn({abi:n,args:r,bytecode:s});return Nn(e,{...o,data:i})}async function Qd(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>xn(r))}async function el(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function tl(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>de(n))}async function nl(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function _i(e,{account:t=e.account,message:n}){if(!t)throw new kn({docsPath:"/docs/actions/wallet/signMessage"});const r=Q(t);if(r.type==="local")return r.signMessage({message:n});const s=typeof n=="string"?et(n):n.raw instanceof Uint8Array?Ge(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function rl(e,t){var u,l,d,f;const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new kn({docsPath:"/docs/actions/wallet/signTransaction"});const o=Q(n);Lt({account:o,...t});const i=await k(e,Dt,"getChainId")({});r!==null&&qo({currentChainId:i,chain:r});const a=(r==null?void 0:r.formatters)||((u=e.chain)==null?void 0:u.formatters),c=((l=a==null?void 0:a.transactionRequest)==null?void 0:l.format)||Bn;return o.type==="local"?o.signTransaction({...s,chainId:i},{serializer:(f=(d=e.chain)==null?void 0:d.serializers)==null?void 0:f.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(s),chainId:F(i),from:o.address}]},{retryCount:0})}async function Ri(e,t){const{account:n=e.account,domain:r,message:s,primaryType:o}=t;if(!n)throw new kn({docsPath:"/docs/actions/wallet/signTypedData"});const i=Q(n),a={EIP712Domain:ci({domain:r}),...t.types};if(ai({domain:r,message:s,primaryType:o,types:a}),i.type==="local")return i.signTypedData({domain:r,message:s,primaryType:o,types:a});const c=zu({domain:r,message:s,primaryType:o,types:a});return e.request({method:"eth_signTypedData_v4",params:[i.address,c]},{retryCount:0})}async function sl(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:F(t)}]},{retryCount:0})}async function ol(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}function Ms(e){return{addChain:t=>iu(e,t),deployContract:t=>ji(e,t),getAddresses:()=>Qd(e),getChainId:()=>Dt(e),getPermissions:()=>el(e),prepareTransactionRequest:t=>Ut(e,t),requestAddresses:()=>tl(e),requestPermissions:t=>nl(e,t),sendRawTransaction:t=>Gr(e,t),sendTransaction:t=>Nn(e,t),signMessage:t=>_i(e,t),signTransaction:t=>rl(e,t),signTypedData:t=>Ri(e,t),switchChain:t=>sl(e,t),watchAsset:t=>ol(e,t),writeContract:t=>Lo(e,t)}}function il(e,t={}){const{key:n="webSocket",name:r="WebSocket JSON-RPC",reconnect:s,retryDelay:o}=t;return({chain:i,retryCount:a,timeout:c})=>{var f;const u=t.retryCount??a,l=c??t.timeout??1e4,d=e||((f=i==null?void 0:i.rpcUrls.default.webSocket)==null?void 0:f[0]);if(!d)throw new Go;return Ht({key:n,name:r,async request({method:g,params:b}){const h={method:g,params:b},p=await nn(d,{reconnect:s}),{error:y,result:m}=await p.requestAsync({body:h,timeout:l});if(y)throw new Xe({body:h,error:y,url:d});return m},retryCount:u,retryDelay:o,timeout:l,type:"webSocket"},{getSocket(){return qu(d)},getRpcClient(){return nn(d)},async subscribe({params:g,onData:b,onError:h}){const p=await nn(d),{result:y}=await new Promise((m,x)=>p.request({body:{method:"eth_subscribe",params:g},onResponse(w){if(w.error){x(w.error),h==null||h(w.error);return}if(typeof w.id=="number"){m(w);return}w.method==="eth_subscription"&&b(w.params)}}));return{subscriptionId:y,async unsubscribe(){return new Promise(m=>p.request({body:{method:"eth_unsubscribe",params:[y]},onResponse:m}))}}}})}}function j(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}async function al(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return j(s,ft,"call")(r)}const gt="2.11.6",cl=()=>`@wagmi/core@${gt}`;var Mi=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},bn,qi;class ne extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return cl()}constructor(t,n={}){var o;super(),bn.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof ne?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof ne&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return Mi(this,bn,"m",qi).call(this,this,t)}}bn=new WeakSet,qi=function e(t,n){return n!=null&&n(t)?t:t.cause?Mi(this,bn,"m",e).call(this,t.cause,n):t};class at extends ne{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class Li extends ne{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class Rn extends ne{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class ul extends ne{constructor(){super("Connector not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotFoundError"})}}class Di extends ne{constructor({address:t,connector:n}){super(`Account "${t}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class Ui extends ne{constructor({connectionChainId:t,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${t}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}async function dl(e,t){var r;let n;if(typeof t.connector=="function"?n=e._internal.connectors.setup(t.connector):n=t.connector,n.uid===e.state.current)throw new Li;try{e.setState(i=>({...i,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const s=await n.connect({chainId:t.chainId}),o=s.accounts;return n.emitter.off("connect",e._internal.events.connect),n.emitter.on("change",e._internal.events.change),n.emitter.on("disconnect",e._internal.events.disconnect),await((r=e.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),e.setState(i=>({...i,connections:new Map(i.connections).set(n.uid,{accounts:o,chainId:s.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:o,chainId:s.chainId}}catch(s){throw e.setState(o=>({...o,status:o.current?"connected":"disconnected"})),s}}async function me(e,t={}){let n;if(t.connector){const{connector:u}=t,[l,d]=await Promise.all([u.getAccounts(),u.getChainId()]);n={accounts:l,chainId:d,connector:u}}else n=e.state.connections.get(e.state.current);if(!n)throw new Rn;const r=t.chainId??n.chainId,s=await n.connector.getChainId();if(s!==n.chainId)throw new Ui({connectionChainId:n.chainId,connectorChainId:s});const o=n.connector;if(o.getClient)return o.getClient({chainId:r});const i=Q(t.account??n.accounts[0]);i.address=de(i.address);const a=e.chains.find(u=>u.id===r),c=await n.connector.getProvider({chainId:r});if(t.account&&!n.accounts.some(u=>u.toLowerCase()===i.address.toLowerCase()))throw new Di({address:i.address,connector:o});return Uo({account:i,chain:a,name:"Connector Client",transport:u=>zr(c)({...u,retryCount:0})})}async function ll(e,t){const{account:n,chainId:r,connector:s,...o}=t;let i;return typeof n=="object"&&n.type==="local"?i=e.getClient({chainId:r}):i=await me(e,{account:n,chainId:r,connector:s}),await j(i,ji,"deployContract")({...o,...n?{account:n}:{},chain:r?{id:r}:null})}async function fl(e,t={}){var s,o;let n;if(t.connector)n=t.connector;else{const{connections:i,current:a}=e.state,c=i.get(a);n=c==null?void 0:c.connector}const r=e.state.connections;n&&(await n.disconnect(),n.emitter.off("change",e._internal.events.change),n.emitter.off("disconnect",e._internal.events.disconnect),n.emitter.on("connect",e._internal.events.connect),r.delete(n.uid)),e.setState(i=>{if(r.size===0)return{...i,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...i,connections:new Map(r),current:a.connector.uid}});{const i=e.state.current;if(!i)return;const a=(s=e.state.connections.get(i))==null?void 0:s.connector;if(!a)return;await((o=e.storage)==null?void 0:o.setItem("recentConnectorId",a.id))}}async function hl(e,t){const{chainId:n,connector:r,...s}=t;let o;t.account?o=t.account:o=(await me(e,{account:t.account,chainId:n,connector:r})).account;const i=e.getClient({chainId:n});return j(i,Gt,"estimateGas")({...s,account:o})}function jt(e){return typeof e=="number"?e:e==="wei"?0:Math.abs(ec[e])}async function bl(e,t={}){const{chainId:n,formatUnits:r="gwei",...s}=t,o=e.getClient({chainId:n}),i=j(o,Ao,"estimateFeesPerGas"),{gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u}=await i({...s,chain:o.chain}),l=jt(r);return{formatted:{gasPrice:a?le(a,l):void 0,maxFeePerGas:c?le(c,l):void 0,maxPriorityFeePerGas:u?le(u,l):void 0},gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u}}async function pl(e,t={}){const{chainId:n}=t,r=e.getClient({chainId:n});return j(r,Io,"estimateMaxPriorityFeePerGas")({chain:r.chain})}function Zt(e){const t=e.state.current,n=e.state.connections.get(t),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],o=e.chains.find(a=>a.id===(n==null?void 0:n.chainId)),i=e.state.status;switch(i){case"connected":return{address:s,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:i};case"reconnecting":return{address:s,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:i};case"connecting":return{address:s,addresses:r,chain:o,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:i};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:i}}}async function Gi(e,t){const{allowFailure:n=!0,chainId:r,contracts:s,...o}=t,i=e.getClient({chainId:r});return j(i,bi,"multicall")({allowFailure:n,contracts:s,...o})}function zi(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return j(s,ce,"readContract")(r)}async function pn(e,t){var a;const{allowFailure:n=!0,blockNumber:r,blockTag:s,...o}=t,i=t.contracts;try{const c={};for(const[f,g]of i.entries()){const b=g.chainId??e.state.chainId;c[b]||(c[b]=[]),(a=c[b])==null||a.push({contract:g,index:f})}const u=()=>Object.entries(c).map(([f,g])=>Gi(e,{...o,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(f),contracts:g.map(({contract:b})=>b)})),l=(await Promise.all(u())).flat(),d=Object.values(c).flatMap(f=>f.map(({index:g})=>g));return l.reduce((f,g,b)=>(f&&(f[d[b]]=g),f),[])}catch(c){if(c instanceof Ke)throw c;const u=()=>i.map(l=>zi(e,{...l,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(u())).map(l=>l.status==="fulfilled"?{result:l.value,status:"success"}:{error:l.reason,result:void 0,status:"failure"}):await Promise.all(u())}}async function qs(e,t){const{address:n,blockNumber:r,blockTag:s,chainId:o,token:i,unit:a="ether"}=t;if(i)try{return Ls(e,{balanceAddress:n,chainId:o,symbolType:"string",tokenAddress:i})}catch(f){if(f instanceof Ke){const g=await Ls(e,{balanceAddress:n,chainId:o,symbolType:"bytes32",tokenAddress:i}),b=sn(qe(g.symbol,{dir:"right"}));return{...g,symbol:b}}throw f}const c=e.getClient({chainId:o}),l=await j(c,ei,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),d=e.chains.find(f=>f.id===o)??c.chain;return{decimals:d.nativeCurrency.decimals,formatted:le(l,jt(a)),symbol:d.nativeCurrency.symbol,value:l}}async function Ls(e,t){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:o,unit:i}=t,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:o},[c,u,l]=await pn(e,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),d=le(c??"0",jt(i??u));return{decimals:u,formatted:d,symbol:l,value:c}}async function yl(e,t={}){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return{...await j(s,ye,"getBlock")(r),chainId:s.chain.id}}function Ds(e,t={}){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return j(s,ht,"getBlockNumber")(r)}function ml(e,t={}){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return j(s,ti,"getBlockTransactionCount")(r)}async function gl(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return j(s,ln,"getBytecode")(r)}function wl(e){return e.state.chainId}function Te(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,r;if(Array.isArray(e)&&Array.isArray(t)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Te(e[r],t[r]))return!1;return!0}if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const s=Object.keys(e);if(n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(o&&!Te(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}let Qn=[];function vl(e){const t=e.chains;return Te(Qn,t)?Qn:(Qn=t,t)}function ns(e,t={}){let n;try{n=e.getClient(t)}catch{}return n}let Xt=[];function Hi(e){const t=[...e.state.connections.values()];return e.state.status==="reconnecting"||Te(Xt,t)?Xt:(Xt=t,t)}let er=[];function xl(e){const t=e.connectors;return Te(er,t)?er:(er=t,t)}function Us(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return j(s,Vo,"getEnsAddress")(r)}function Gs(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return j(s,Yo,"getEnsAvatar")(r)}function zs(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return j(s,Jo,"getEnsName")(r)}function Hs(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return j(s,Ko,"getEnsResolver")(r)}function Pl(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return j(s,Zr,"getEnsText")(r)}function El(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return j(s,ni,"getFeeHistory")(r)}function Cl(e,t={}){const{chainId:n}=t,r=e.getClient({chainId:n});return j(r,An,"getGasPrice")({})}async function Il(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return j(s,li,"getProof")(r)}function Vi(e,t={}){const n=ns(e,t);return n==null?void 0:n.extend(Xd)}async function Bl(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return j(s,fi,"getStorageAt")(r)}async function Vs(e,t){const{address:n,chainId:r,formatUnits:s=18}=t;function o(i){return[{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:i}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:i}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]}]}try{const i=o("string"),a={address:n,abi:i,chainId:r},[c,u,l,d]=await pn(e,{allowFailure:!0,contracts:[{...a,functionName:"decimals"},{...a,functionName:"name"},{...a,functionName:"symbol"},{...a,functionName:"totalSupply"}]});if(u.error instanceof Ke)throw u.error;if(l.error instanceof Ke)throw l.error;if(c.error)throw c.error;if(d.error)throw d.error;return{address:n,decimals:c.result,name:u.result,symbol:l.result,totalSupply:{formatted:le(d.result,jt(s)),value:d.result}}}catch(i){if(i instanceof Ke){const a=o("bytes32"),c={address:n,abi:a,chainId:r},[u,l,d,f]=await pn(e,{allowFailure:!1,contracts:[{...c,functionName:"decimals"},{...c,functionName:"name"},{...c,functionName:"symbol"},{...c,functionName:"totalSupply"}]});return{address:n,decimals:u,name:sn(qe(l,{dir:"right"})),symbol:sn(qe(d,{dir:"right"})),totalSupply:{formatted:le(f,jt(s)),value:f}}}throw i}}function Ws(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return j(s,Vt,"getTransaction")(r)}function Al(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return j(s,hi,"getTransactionConfirmations")(r)}async function Sl(e,t){const{address:n,blockNumber:r,blockTag:s,chainId:o}=t,i=e.getClient({chainId:o});return j(i,Rr,"getTransactionCount")(r?{address:n,blockNumber:r}:{address:n,blockTag:s})}async function $l(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return j(s,fn,"getTransactionReceipt")(r)}async function Tl(e,t={}){const n=await me(e,t);return n.extend(Ms),n.extend(Ms)}async function kl(e,t){const{account:n,chainId:r,...s}=t,o=n??Zt(e).address,i=e.getClient({chainId:r});return j(i,Ut,"prepareTransactionRequest")({...s,...o?{account:o}:{}})}let tr=!1;async function Wi(e,t={}){var u,l;if(tr)return[];tr=!0,e.setState(d=>({...d,status:d.current?"reconnecting":"connecting"}));const n=[];if((u=t.connectors)!=null&&u.length)for(const d of t.connectors){let f;typeof d=="function"?f=e._internal.connectors.setup(d):f=d,n.push(f)}else n.push(...e.connectors);let r;try{r=await((l=e.storage)==null?void 0:l.getItem("recentConnectorId"))}catch{}const s={};for(const[,d]of e.state.connections)s[d.connector.id]=1;r&&(s[r]=0);const o=Object.keys(s).length>0?[...n].sort((d,f)=>(s[d.id]??10)-(s[f.id]??10)):n;let i=!1;const a=[],c=[];for(const d of o){const f=await d.getProvider().catch(()=>{});if(!f||c.some(h=>h===f)||!await d.isAuthorized())continue;const b=await d.connect({isReconnecting:!0}).catch(()=>null);b&&(d.emitter.off("connect",e._internal.events.connect),d.emitter.on("change",e._internal.events.change),d.emitter.on("disconnect",e._internal.events.disconnect),e.setState(h=>{const p=new Map(i?h.connections:new Map).set(d.uid,{accounts:b.accounts,chainId:b.chainId,connector:d});return{...h,current:i?h.current:d.uid,connections:p}}),a.push({accounts:b.accounts,chainId:b.chainId,connector:d}),c.push(f),i=!0)}return(e.state.status==="reconnecting"||e.state.status==="connecting")&&(i?e.setState(d=>({...d,status:"connected"})):e.setState(d=>({...d,connections:new Map,current:null,status:"disconnected"}))),tr=!1,a}async function Nl(e,t){const{account:n,chainId:r,connector:s,gas:o,...i}=t;let a;typeof n=="object"&&n.type==="local"?a=e.getClient({chainId:r}):a=await me(e,{account:n,chainId:r,connector:s});const{connector:c}=Zt(e),u=await(async()=>{var f;if(!(!("data"in t)||!t.data)&&!((f=s??c)!=null&&f.supportsSimulation)&&o!==null)return o===void 0?j(a,Gt,"estimateGas")({...i,account:n,chain:r?{id:r}:null}):o})();return await j(a,Nn,"sendTransaction")({...i,...n?{account:n}:{},gas:u,chain:r?{id:r}:null})}async function Ol(e,t){const{account:n,connector:r,...s}=t;let o;return typeof n=="object"&&n.type==="local"?o=e.getClient():o=await me(e,{account:n,connector:r}),j(o,_i,"signMessage")({...s,...n?{account:n}:{}})}async function Fl(e,t){const{account:n,connector:r,...s}=t;let o;return typeof n=="object"&&n.type==="local"?o=e.getClient():o=await me(e,{account:n,connector:r}),j(o,Ri,"signTypedData")({...s,...n?{account:n}:{}})}async function Zi(e,t){const{abi:n,chainId:r,connector:s,...o}=t;let i;t.account?i=t.account:i=(await me(e,{chainId:r,connector:s})).account;const a=e.getClient({chainId:r}),c=j(a,Ro,"simulateContract"),{result:u,request:l}=await c({...o,abi:n,account:i});return{chainId:a.chain.id,result:u,request:{__mode:"prepared",...l,chainId:r}}}async function jl(e,t){var s;const{connector:n}=t,r=e.state.connections.get(n.uid);if(!r)throw new Rn;return await((s=e.storage)==null?void 0:s.setItem("recentConnectorId",n.id)),e.setState(o=>({...o,current:n.uid})),{accounts:r.accounts,chainId:r.chainId}}class Oe extends ne{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class Yi extends ne{constructor({connector:t}){super(`"${t.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function Zs(e,t){var i;const{addEthereumChainParameter:n,chainId:r}=t,s=e.state.connections.get(((i=t.connector)==null?void 0:i.uid)??e.state.current);if(s){const a=s.connector;if(!a.switchChain)throw new Yi({connector:a});return await a.switchChain({addEthereumChainParameter:n,chainId:r})}const o=e.chains.find(a=>a.id===r);if(!o)throw new at;return e.setState(a=>({...a,chainId:r})),o}async function _l(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return j(s,Ti,"verifyMessage")(r)}async function Rl(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return j(s,ki,"verifyTypedData")(r)}function Ml(e,t){const{onChange:n}=t;return e.subscribe(()=>Zt(e),n,{equalityFn(r,s){const{connector:o,...i}=r,{connector:a,...c}=s;return Te(i,c)&&(o==null?void 0:o.id)===(a==null?void 0:a.id)&&(o==null?void 0:o.uid)===(a==null?void 0:a.uid)}})}function ql(e,t){const{syncConnectedChain:n=e._internal.syncConnectedChain,...r}=t;let s;const o=c=>{s&&s();const u=e.getClient({chainId:c});return s=j(u,Oi,"watchBlocks")(r),s},i=o(t.chainId);let a;return n&&!t.chainId&&(a=e.subscribe(({chainId:c})=>c,async c=>o(c))),()=>{i==null||i(),a==null||a()}}function Ll(e,t){const{syncConnectedChain:n=e._internal.syncConnectedChain,...r}=t;let s;const o=c=>{s&&s();const u=e.getClient({chainId:c});return s=j(u,ts,"watchBlockNumber")(r),s},i=o(t.chainId);let a;return n&&!t.chainId&&(a=e.subscribe(({chainId:c})=>c,async c=>o(c))),()=>{i==null||i(),a==null||a()}}function Dl(e,t){const{onChange:n}=t;return e.subscribe(r=>r.chainId,n)}function Ul(e,t){const{onChange:n}=t;return e.subscribe(()=>ns(e),n,{equalityFn(r,s){return(r==null?void 0:r.uid)===(s==null?void 0:s.uid)}})}function Gl(e,t){const{onChange:n}=t;return e.subscribe(()=>Hi(e),n,{equalityFn:Te})}function zl(e,t){const{onChange:n}=t;return e._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function Hl(e,t){const{syncConnectedChain:n=e._internal.syncConnectedChain,...r}=t;let s;const o=c=>{s&&s();const u=e.getClient({chainId:c});return s=j(u,Mo,"watchContractEvent")(r),s},i=o(t.chainId);let a;return n&&!t.chainId&&(a=e.subscribe(({chainId:c})=>c,async c=>o(c))),()=>{i==null||i(),a==null||a()}}function Vl(e,t){const{syncConnectedChain:n=e._internal.syncConnectedChain,...r}=t;let s;const o=c=>{s&&s();const u=e.getClient({chainId:c});return s=j(u,Fi,"watchPendingTransactions")(r),s},i=o(t.chainId);let a;return n&&!t.chainId&&(a=e.subscribe(({chainId:c})=>c,async c=>o(c))),()=>{i==null||i(),a==null||a()}}function Wl(e,t){const{onChange:n}=t;return e.subscribe(()=>Vi(e),n,{equalityFn(r,s){return(r==null?void 0:r.uid)===(s==null?void 0:s.uid)}})}async function Ys(e,t){const{chainId:n,timeout:r=0,...s}=t,o=e.getClient({chainId:n}),a=await j(o,Ni,"waitForTransactionReceipt")({...s,timeout:r});if(a.status==="reverted"){const u=await j(o,Vt,"getTransaction")({hash:a.transactionHash}),d=await j(o,ft,"call")({...u,gasPrice:u.type!=="eip1559"?u.gasPrice:void 0,maxFeePerGas:u.type==="eip1559"?u.maxFeePerGas:void 0,maxPriorityFeePerGas:u.type==="eip1559"?u.maxPriorityFeePerGas:void 0}),f=d!=null&&d.data?sn(`0x${d.data.substring(138)}`):"unknown reason";throw new Error(f)}return{...a,chainId:o.chain.id}}async function Zl(e,t){const{account:n,chainId:r,connector:s,__mode:o,...i}=t;let a;typeof n=="object"&&n.type==="local"?a=e.getClient({chainId:r}):a=await me(e,{account:n,chainId:r,connector:s});const{connector:c}=Zt(e);let u;if(o==="prepared"||c!=null&&c.supportsSimulation)u=i;else{const{request:f}=await Zi(e,{...i,account:n,chainId:r});u=f}return await j(a,Lo,"writeContract")({...u,...n?{account:n}:{},chain:r?{id:r}:null})}function Yl(e){return e}const Jl=/(rabby|trustwallet)/,Kl={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(e){return e!=null&&e.coinbaseWalletExtension?e.coinbaseWalletExtension:rn(e,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(e){return rn(e,t=>{if(!t.isMetaMask||t.isBraveWallet&&!t._events&&!t._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPortal","isRabby","isTokenPocket","isTokenary","isZerion"];for(const r of n)if(t[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(e){var t,n;return(t=e==null?void 0:e.phantom)!=null&&t.ethereum?(n=e.phantom)==null?void 0:n.ethereum:rn(e,"isPhantom")}}};Mn.type="injected";function Mn(e={}){const{shimDisconnect:t=!0,unstable_shimAsyncInject:n}=e;function r(){const c=e.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...Kl[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u==null?void 0:u.ethereum}}}let s,o,i,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return Jl.test(this.id.toLowerCase())},type:Mn.type,async setup(){const u=await this.getProvider();u&&e.target&&(i||(i=this.onConnect.bind(this),u.on("connect",i)),s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)))},async connect({chainId:u,isReconnecting:l}={}){var g,b,h,p,y,m;const d=await this.getProvider();if(!d)throw new Oe;let f=[];if(l)f=await this.getAccounts().catch(()=>[]);else if(t)try{f=(p=(h=(b=(g=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:g.caveats)==null?void 0:b[0])==null?void 0:h.value)==null?void 0:p.map(w=>de(w))}catch(x){const w=x;if(w.code===D.code)throw new D(w);if(w.code===Ie.code)throw w}try{!(f!=null&&f.length)&&!l&&(f=(await d.request({method:"eth_requestAccounts"})).map(P=>de(P))),i&&(d.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),d.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let x=await this.getChainId();if(u&&x!==u){const w=await this.switchChain({chainId:u}).catch(P=>{if(P.code===D.code)throw P;return{id:x}});x=(w==null?void 0:w.id)??x}return t&&await((y=c.storage)==null?void 0:y.removeItem(`${this.id}.disconnected`)),e.target||await((m=c.storage)==null?void 0:m.setItem("injected.connected",!0)),{accounts:f,chainId:x}}catch(x){const w=x;throw w.code===D.code?new D(w):w.code===Ie.code?new Ie(w):w}},async disconnect(){var l,d;const u=await this.getProvider();if(!u)throw new Oe;o&&(u.removeListener("chainChanged",o),o=void 0),a&&(u.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),u.on("connect",i));try{await On(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}t&&await((l=c.storage)==null?void 0:l.setItem(`${this.id}.disconnected`,!0)),e.target||await((d=c.storage)==null?void 0:d.removeItem("injected.connected"))},async getAccounts(){const u=await this.getProvider();if(!u)throw new Oe;return(await u.request({method:"eth_accounts"})).map(d=>de(d))},async getChainId(){const u=await this.getProvider();if(!u)throw new Oe;const l=await u.request({method:"eth_chainId"});return Number(l)},async getProvider(){if(typeof window>"u")return;let u;const l=r();return typeof l.provider=="function"?u=l.provider(window):typeof l.provider=="string"?u=rn(window,l.provider):u=l.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){var u,l;try{if(t&&await((u=c.storage)==null?void 0:u.getItem(`${this.id}.disconnected`))||!e.target&&!await((l=c.storage)==null?void 0:l.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const b=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",b),!!await this.getProvider()),h=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(y=>window.addEventListener("ethereum#initialized",()=>y(b()),{once:!0}))]:[],new Promise(y=>setTimeout(()=>y(b()),h))]))return!0}throw new Oe}return!!(await Ot(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:l}){var g,b,h,p;const d=await this.getProvider();if(!d)throw new Oe;const f=c.chains.find(y=>y.id===l);if(!f)throw new Ae(new at);try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:F(l)}]}).then(async()=>{await this.getChainId()===l&&c.emitter.emit("change",{chainId:l})}),new Promise(y=>c.emitter.once("change",({chainId:m})=>{m===l&&y()}))]),f}catch(y){const m=y;if(m.code===4902||((b=(g=m==null?void 0:m.data)==null?void 0:g.originalError)==null?void 0:b.code)===4902)try{const{default:x,...w}=f.blockExplorers??{};let P;u!=null&&u.blockExplorerUrls?P=u.blockExplorerUrls:x&&(P=[x.url,...Object.values(w).map(S=>S.url)]);let v;(h=u==null?void 0:u.rpcUrls)!=null&&h.length?v=u.rpcUrls:v=[((p=f.rpcUrls.default)==null?void 0:p.http[0])??""];const E={blockExplorerUrls:P,chainId:F(l),chainName:(u==null?void 0:u.chainName)??f.name,iconUrls:u==null?void 0:u.iconUrls,nativeCurrency:(u==null?void 0:u.nativeCurrency)??f.nativeCurrency,rpcUrls:v};if(await d.request({method:"wallet_addEthereumChain",params:[E]}),await this.getChainId()!==l)throw new D(new Error("User rejected switch after adding network."));return f}catch(x){throw new D(x)}throw m.code===D.code?new D(m):new Ae(m)}},async onAccountsChanged(u){var l;if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const d=(await this.getChainId()).toString();this.onConnect({chainId:d}),t&&await((l=c.storage)==null?void 0:l.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:u.map(d=>de(d))})},onChainChanged(u){const l=Number(u);c.emitter.emit("change",{chainId:l})},async onConnect(u){const l=await this.getAccounts();if(l.length===0)return;const d=Number(u.chainId);c.emitter.emit("connect",{accounts:l,chainId:d});const f=await this.getProvider();f&&(i&&(f.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),f.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),f.on("disconnect",a)))},async onDisconnect(u){const l=await this.getProvider();u&&u.code===1013&&l&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),l&&(o&&(l.removeListener("chainChanged",o),o=void 0),a&&(l.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),l.on("connect",i))))}})}function rn(e,t){function n(s){return typeof t=="function"?t(s):typeof t=="string"?s[t]:!0}const r=e.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}rs.type="mock";function rs(e){const t=new Map,n=e.features??{};let r=!1,s;return o=>({id:"mock",name:"Mock Connector",type:rs.type,async setup(){s=o.chains[0].id},async connect({chainId:i}={}){if(n.connectError)throw typeof n.connectError=="boolean"?new D(new Error("Failed to connect.")):n.connectError;const c=await(await this.getProvider()).request({method:"eth_requestAccounts"});let u=await this.getChainId();return i&&u!==i&&(u=(await this.switchChain({chainId:i})).id),r=!0,{accounts:c.map(l=>de(l)),chainId:u}},async disconnect(){r=!1},async getAccounts(){if(!r)throw new Rn;return(await(await this.getProvider()).request({method:"eth_accounts"})).map(c=>de(c))},async getChainId(){const a=await(await this.getProvider()).request({method:"eth_chainId"});return fs(a,"number")},async isAuthorized(){return!n.reconnect||!r?!1:!!(await this.getAccounts()).length},async switchChain({chainId:i}){const a=await this.getProvider(),c=o.chains.find(u=>u.id===i);if(!c)throw new Ae(new at);return await a.request({method:"wallet_switchEthereumChain",params:[{chainId:F(i)}]}),c},onAccountsChanged(i){i.length===0?this.onDisconnect():o.emitter.emit("change",{accounts:i.map(a=>de(a))})},onChainChanged(i){const a=Number(i);o.emitter.emit("change",{chainId:a})},async onDisconnect(i){o.emitter.emit("disconnect"),r=!1},async getProvider({chainId:i}={}){const c=(o.chains.find(l=>l.id===i)??o.chains[0]).rpcUrls.default.http[0];return zr({request:async({method:l,params:d})=>{if(l==="eth_chainId")return F(s);if(l==="eth_requestAccounts")return e.accounts;if(l==="eth_signTypedData_v4"&&n.signTypedDataError)throw typeof n.signTypedDataError=="boolean"?new D(new Error("Failed to sign typed data.")):n.signTypedDataError;if(l==="wallet_switchEthereumChain"){if(n.switchChainError)throw typeof n.switchChainError=="boolean"?new D(new Error("Failed to switch chain.")):n.switchChainError;s=fs(d[0].chainId,"number"),this.onChainChanged(s.toString());return}if(l==="wallet_getCapabilities")return{"0x2105":{paymasterService:{supported:d[0]==="0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266"},sessionKeys:{supported:!0}},"0x14A34":{paymasterService:{supported:d[0]==="0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266"}}};if(l==="wallet_sendCalls"){const h=[],p=d[0].calls;for(const m of p){const{result:x,error:w}=await Zn.http(c,{body:{method:"eth_sendTransaction",params:[m]}});if(w)throw new Xe({body:{method:l,params:d},error:w,url:c});h.push(x)}const y=W(et(JSON.stringify(p)));return t.set(y,h),y}if(l==="wallet_getCallsStatus"){const h=t.get(d[0]);if(!h)return null;const p=await Promise.all(h.map(async y=>{const{result:m,error:x}=await Zn.http(c,{body:{method:"eth_getTransactionReceipt",params:[y],id:0}});if(x)throw new Xe({body:{method:l,params:d},error:x,url:c});return m?{blockHash:m.blockHash,blockNumber:m.blockNumber,gasUsed:m.gasUsed,logs:m.logs,status:m.status,transactionHash:m.transactionHash}:null}));return p.some(y=>!y)?{status:"PENDING",receipts:[]}:{status:"CONFIRMED",receipts:p}}if(l==="wallet_showCallsStatus")return;if(l==="personal_sign"){if(n.signMessageError)throw typeof n.signMessageError=="boolean"?new D(new Error("Failed to sign message.")):n.signMessageError;l="eth_sign",d=[d[1],d[0]]}const f={method:l,params:d},{error:g,result:b}=await Zn.http(c,{body:f});if(g)throw new Xe({body:f,error:g,url:c});return b}})({retryCount:0})}})}function Xl(e){const t=n=>e(n.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)}function Ql(){const e=new Set;let t=[];const n=()=>Xl(s=>{t.some(({info:o})=>o.uuid===s.info.uuid)||(t=[...t,s],e.forEach(o=>o(t,{added:[s]})))});let r=n();return{_listeners(){return e},clear(){e.forEach(s=>s([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),r()},findProvider({rdns:s}){return t.find(o=>o.info.rdns===s)},getProviders(){return t},reset(){this.clear(),r(),r=n()},subscribe(s,{emitImmediately:o}={}){return e.add(s),o&&s(t,{added:t}),()=>e.delete(s)}}}const ef=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=(i,a,c)=>{let u=i;if(a){const l=(c==null?void 0:c.equalityFn)||Object.is;let d=i(r.getState());u=f=>{const g=i(f);if(!l(d,g)){const b=d;a(d=g,b)}},c!=null&&c.fireImmediately&&a(d,d)}return s(u)},e(t,n,r)},tf=ef;function nf(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var o;const i=c=>c===null?null:JSON.parse(c,void 0),a=(o=n.getItem(s))!=null?o:null;return a instanceof Promise?a.then(i):i(a)},setItem:(s,o)=>n.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>n.removeItem(s)}}const _t=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return _t(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return _t(r)(n)}}}},rf=(e,t)=>(n,r,s)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:p=>p,version:0,merge:(p,y)=>({...y,...p}),...t},i=!1;const a=new Set,c=new Set;let u;try{u=o.getStorage()}catch{}if(!u)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...p)},r,s);const l=_t(o.serialize),d=()=>{const p=o.partialize({...r()});let y;const m=l({state:p,version:o.version}).then(x=>u.setItem(o.name,x)).catch(x=>{y=x});if(y)throw y;return m},f=s.setState;s.setState=(p,y)=>{f(p,y),d()};const g=e((...p)=>{n(...p),d()},r,s);let b;const h=()=>{var p;if(!u)return;i=!1,a.forEach(m=>m(r()));const y=((p=o.onRehydrateStorage)==null?void 0:p.call(o,r()))||void 0;return _t(u.getItem.bind(u))(o.name).then(m=>{if(m)return o.deserialize(m)}).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==o.version){if(o.migrate)return o.migrate(m.state,m.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return m.state}).then(m=>{var x;return b=o.merge(m,(x=r())!=null?x:g),n(b,!0),d()}).then(()=>{y==null||y(b,void 0),i=!0,c.forEach(m=>m(b))}).catch(m=>{y==null||y(void 0,m)})};return s.persist={setOptions:p=>{o={...o,...p},p.getStorage&&(u=p.getStorage())},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>h(),hasHydrated:()=>i,onHydrate:p=>(a.add(p),()=>{a.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},h(),b||g},sf=(e,t)=>(n,r,s)=>{let o={storage:nf(()=>localStorage),partialize:h=>h,version:0,merge:(h,p)=>({...p,...h}),...t},i=!1;const a=new Set,c=new Set;let u=o.storage;if(!u)return e((...h)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...h)},r,s);const l=()=>{const h=o.partialize({...r()});return u.setItem(o.name,{state:h,version:o.version})},d=s.setState;s.setState=(h,p)=>{d(h,p),l()};const f=e((...h)=>{n(...h),l()},r,s);let g;const b=()=>{var h,p;if(!u)return;i=!1,a.forEach(m=>{var x;return m((x=r())!=null?x:f)});const y=((p=o.onRehydrateStorage)==null?void 0:p.call(o,(h=r())!=null?h:f))||void 0;return _t(u.getItem.bind(u))(o.name).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==o.version){if(o.migrate)return o.migrate(m.state,m.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return m.state}).then(m=>{var x;return g=o.merge(m,(x=r())!=null?x:f),n(g,!0),l()}).then(()=>{y==null||y(g,void 0),g=r(),i=!0,c.forEach(m=>m(g))}).catch(m=>{y==null||y(void 0,m)})};return s.persist={setOptions:h=>{o={...o,...h},h.storage&&(u=h.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>b(),hasHydrated:()=>i,onHydrate:h=>(a.add(h),()=>{a.delete(h)}),onFinishHydration:h=>(c.add(h),()=>{c.delete(h)})},o.skipHydration||b(),g||f},of=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?rf(e,t):sf(e,t),af=of,Js=e=>{let t;const n=new Set,r=(c,u)=>{const l=typeof c=="function"?c(t):c;if(!Object.is(l,t)){const d=t;t=u??typeof l!="object"?l:Object.assign({},t,l),n.forEach(f=>f(t,d))}},s=()=>t,a={setState:r,getState:s,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{n.clear()}};return t=e(r,s,a),a},nr=e=>e?Js(e):Js;class cf{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new ia})}on(t,n){this._emitter.on(t,n)}once(t,n){this._emitter.once(t,n)}off(t,n){this._emitter.off(t,n)}emit(t,...n){const r=n[0];this._emitter.emit(t,{uid:this.uid,...r})}listenerCount(t){return this._emitter.listenerCount(t)}}function uf(e){return new cf(e)}function ss(e,t){return JSON.parse(e,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(t==null?void 0:t(n,s))??s})}function Ks(e,t){return e.slice(0,t).join(".")||"."}function Xs(e,t){const{length:n}=e;for(let r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function df(e,t){const n=typeof e=="function",r=typeof t=="function",s=[],o=[];return function(a,c){if(typeof c=="object")if(s.length){const u=Xs(s,this);u===0?s[s.length]=this:(s.splice(u),o.splice(u)),o[o.length]=a;const l=Xs(s,c);if(l!==0)return r?t.call(this,a,c,Ks(o,l)):`[ref=${Ks(o,l)}]`}else s[0]=c,o[0]=a;return n?e.call(this,a,c):c}}function Ji(e,t,n,r){return JSON.stringify(e,df((s,o)=>{let i=o;return typeof i=="bigint"&&(i={__type:"bigint",value:o.toString()}),i instanceof Map&&(i={__type:"Map",value:Array.from(o.entries())}),(t==null?void 0:t(s,i))??i},r),n??void 0)}function Ki(e){const{deserialize:t=ss,key:n="wagmi",serialize:r=Ji,storage:s=os}=e;function o(i){return i instanceof Promise?i.then(a=>a).catch(()=>null):i}return{...s,key:n,async getItem(i,a){const c=s.getItem(`${n}.${i}`),u=await o(c);return u?t(u)??null:a??null},async setItem(i,a){const c=`${n}.${i}`;a===null?await o(s.removeItem(c)):await o(s.setItem(c,r(a)))},async removeItem(i){await o(s.removeItem(`${n}.${i}`))}}}const os={getItem:()=>null,setItem:()=>{},removeItem:()=>{}},Ir=256;let Qt=Ir,en;function lf(e=11){if(!en||Qt+e>Ir*2){en="",Qt=0;for(let t=0;t<Ir;t++)en+=(256+Math.random()*256|0).toString(16).substring(1)}return en.substring(Qt,Qt+++e)}function ff(e){const{multiInjectedProviderDiscovery:t=!0,storage:n=Ki({storage:typeof window<"u"&&window.localStorage?window.localStorage:os}),syncConnectedChain:r=!0,ssr:s,...o}=e,i=typeof window<"u"&&t?Ql():void 0,a=nr(()=>o.chains),c=nr(()=>[...o.connectors??[],...s?[]:(i==null?void 0:i.getProviders().map(l))??[]].map(u));function u(w){var E;const P=uf(lf()),v={...w({emitter:P,chains:a.getState(),storage:n}),emitter:P,uid:P.uid};return P.on("connect",m),(E=v.setup)==null||E.call(v),v}function l(w){const{info:P}=w,v=w.provider;return Mn({target:{...P,id:P.rdns,provider:v}})}const d=new Map;function f(w={}){const P=w.chainId??p.getState().chainId,v=a.getState().find(C=>C.id===P);if(w.chainId&&!v)throw new at;{const C=d.get(p.getState().chainId);if(C&&!v)return C;if(!v)throw new at}{const C=d.get(P);if(C)return C}let E;if(o.client)E=o.client({chain:v});else{const C=v.id,S=a.getState().map(N=>N.id),$={},T=Object.entries(o);for(const[N,_]of T)if(!(N==="chains"||N==="client"||N==="connectors"||N==="transports"))if(typeof _=="object")if(C in _)$[N]=_[C];else{if(S.some(B=>B in _))continue;$[N]=_}else $[N]=_;E=Uo({...$,chain:v,batch:$.batch??{multicall:!0},transport:N=>o.transports[C]({...N,connectors:c})})}return d.set(P,E),E}function g(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let b;const h="0.0.0-canary-";gt.startsWith(h)?b=Number.parseInt(gt.replace(h,"")):b=Number.parseInt(gt.split(".")[0]??"0");const p=nr(tf(n?af(g,{migrate(w,P){if(P===b)return w;const v=g(),E=w&&typeof w=="object"&&"chainId"in w&&typeof w.chainId=="number"&&a.getState().some(C=>C.id===w.chainId)?w.chainId:v.chainId;return{...v,chainId:E}},name:"store",partialize(w){return{connections:{__type:"Map",value:Array.from(w.connections.entries()).map(([P,v])=>{const{id:E,name:C,type:S,uid:$}=v.connector;return[P,{...v,connector:{id:E,name:C,type:S,uid:$}}]})},chainId:w.chainId,current:w.current}},skipHydration:s,storage:n,version:b}):g));r&&p.subscribe(({connections:w,current:P})=>{var v;return P?(v=w.get(P))==null?void 0:v.chainId:void 0},w=>{if(a.getState().some(v=>v.id===w))return p.setState(v=>({...v,chainId:w??v.chainId}))}),i==null||i.subscribe(w=>{const P=new Map;for(const E of c.getState())P.set(E.id,!0);const v=[];for(const E of w){const C=u(l(E));P.has(C.id)||v.push(C)}n&&!p.persist.hasHydrated()||c.setState(E=>[...E,...v],!0)});function y(w){p.setState(P=>{const v=P.connections.get(w.uid);return v?{...P,connections:new Map(P.connections).set(w.uid,{accounts:w.accounts??v.accounts,chainId:w.chainId??v.chainId,connector:v.connector})}:P})}function m(w){p.getState().status==="connecting"||p.getState().status==="reconnecting"||p.setState(P=>{const v=c.getState().find(E=>E.uid===w.uid);return v?(v.emitter.listenerCount("connect")&&v.emitter.off("connect",y),v.emitter.listenerCount("change")||v.emitter.on("change",y),v.emitter.listenerCount("disconnect")||v.emitter.on("disconnect",x),{...P,connections:new Map(P.connections).set(w.uid,{accounts:w.accounts,chainId:w.chainId,connector:v}),current:w.uid,status:"connected"}):P})}function x(w){p.setState(P=>{const v=P.connections.get(w.uid);if(v){const C=v.connector;C.emitter.listenerCount("change")&&v.connector.emitter.off("change",y),C.emitter.listenerCount("disconnect")&&v.connector.emitter.off("disconnect",x),C.emitter.listenerCount("connect")||v.connector.emitter.on("connect",m)}if(P.connections.delete(w.uid),P.connections.size===0)return{...P,connections:new Map,current:null,status:"disconnected"};const E=P.connections.values().next().value;return{...P,connections:new Map(P.connections),current:E.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:f,get state(){return p.getState()},setState(w){let P;typeof w=="function"?P=w(p.getState()):P=w;const v=g();typeof P!="object"&&(P=v),Object.keys(v).some(C=>!(C in P))&&(P=v),p.setState(P,!0)},subscribe(w,P,v){return p.subscribe(w,P,v?{...v,fireImmediately:v.emitImmediately}:void 0)},_internal:{mipd:i,store:p,ssr:!!s,syncConnectedChain:r,transports:o.transports,chains:{setState(w){const P=typeof w=="function"?w(a.getState()):w;if(P.length!==0)return a.setState(P,!0)},subscribe(w){return a.subscribe(w)}},connectors:{providerDetailToConnector:l,setup:u,setState(w){return c.setState(typeof w=="function"?w(c.getState()):w,!0)},subscribe(w){return c.subscribe(w)}},events:{change:y,connect:m,disconnect:x}}}}function hf(e,t){const{initialState:n,reconnectOnMount:r}=t;return n&&!e._internal.store.persist.hasHydrated()&&e.setState({...n,chainId:e.chains.some(s=>s.id===n.chainId)?n.chainId:e.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){var s;if(e._internal.ssr){await e._internal.store.persist.rehydrate();const o=(s=e._internal.mipd)==null?void 0:s.getProviders().map(e._internal.connectors.providerDetailToConnector).map(e._internal.connectors.setup);e._internal.connectors.setState(i=>[...i,...o??[]])}r?Wi(e):e.storage&&e.setState(o=>({...o,connections:new Map}))}}}function bf(e,t={}){const{type:n}=e,{key:r="connector",name:s="Connector",retryDelay:o}=t;return i=>{const{chain:a,connectors:c}=i,u=t.retryCount??i.retryCount;return Ht({key:r,name:s,request:async({method:d,params:f})=>{const g=c==null?void 0:c.getState().find(y=>y.type===n);if(!g)throw new Ue(new Error(`Could not find connector of type "${n}" in \`connectors\` passed to \`createConfig\`.`));const b=await g.getProvider({chainId:a==null?void 0:a.id});if(!b)throw new Ue(new Error("Provider is disconnected."));const h=he(await Ot(()=>On(()=>b.request({method:"eth_chainId"}),{timeout:100})));if(a&&h!==a.id)throw new rt(new Error(`The current chain of the connector (id: ${h}) does not match the target chain for the request (id: ${a.id} – ${a.name}).`));const p={method:d,params:f};return b.request(p)},retryCount:u,retryDelay:o,type:"connector"})}}function pf(e,t){return du(e,t)}const yf={getItem(e){return typeof window>"u"?null:is(document.cookie,e)??null},setItem(e,t){typeof window>"u"||(document.cookie=`${e}=${t};Path=/;SameSite=Lax`)},removeItem(e){typeof window>"u"||(document.cookie=`${e}=;max-age=-1`)}};function mf(e,t){var s;if(!t)return;const n=`${(s=e.storage)==null?void 0:s.key}.store`,r=is(t,n);if(r)return ss(r).state}function is(e,t){const n=e.split("; ").find(r=>r.startsWith(`${t}=`));if(n)return n.substring(t.length+1)}function gf(e){if(typeof e=="string")return Number.parseInt(e,e.trim().substring(0,2)==="0x"?16:10);if(typeof e=="bigint")return Number(e);if(typeof e=="number")return e;throw new Error(`Cannot normalize chainId "${e}" of type "${typeof e}"`)}const Ef=Object.freeze(Object.defineProperty({__proto__:null,BaseError:ne,ChainNotConfiguredError:at,ConnectorAccountNotFoundError:Di,ConnectorAlreadyConnectedError:Li,ConnectorChainMismatchError:Ui,ConnectorNotConnectedError:Rn,ConnectorNotFoundError:ul,ProviderNotFoundError:Oe,SwitchChainNotSupportedError:Yi,call:al,connect:dl,cookieStorage:yf,cookieToInitialState:mf,createConfig:ff,createConnector:Yl,createStorage:Ki,custom:zr,deepEqual:Te,deployContract:ll,deserialize:ss,disconnect:fl,estimateFeesPerGas:bl,estimateGas:hl,estimateMaxPriorityFeePerGas:pl,fallback:pf,fetchBalance:qs,fetchBlockNumber:Ds,fetchEnsAddress:Us,fetchEnsAvatar:Gs,fetchEnsName:zs,fetchEnsResolver:Hs,fetchToken:Vs,fetchTransaction:Ws,getAccount:Zt,getBalance:qs,getBlock:yl,getBlockNumber:Ds,getBlockTransactionCount:ml,getBytecode:gl,getChainId:wl,getChains:vl,getClient:ns,getConnections:Hi,getConnectorClient:me,getConnectors:xl,getEnsAddress:Us,getEnsAvatar:Gs,getEnsName:zs,getEnsResolver:Hs,getEnsText:Pl,getFeeHistory:El,getGasPrice:Cl,getProof:Il,getPublicClient:Vi,getStorageAt:Bl,getToken:Vs,getTransaction:Ws,getTransactionConfirmations:Al,getTransactionCount:Sl,getTransactionReceipt:$l,getWalletClient:Tl,http:bu,hydrate:hf,injected:Mn,mock:rs,multicall:Gi,noopStorage:os,normalizeChainId:gf,parseCookie:is,prepareTransactionRequest:kl,readContract:zi,readContracts:pn,reconnect:Wi,sendTransaction:Nl,serialize:Ji,signMessage:Ol,signTypedData:Fl,simulateContract:Zi,switchAccount:jl,switchChain:Zs,switchNetwork:Zs,unstable_connector:bf,verifyMessage:_l,verifyTypedData:Rl,version:gt,waitForTransaction:Ys,waitForTransactionReceipt:Ys,watchAccount:Ml,watchBlockNumber:Ll,watchBlocks:ql,watchChainId:Dl,watchClient:Ul,watchConnections:Gl,watchConnectors:zl,watchContractEvent:Hl,watchPendingTransactions:Vl,watchPublicClient:Wl,webSocket:il,writeContract:Zl},Symbol.toStringTag,{value:"Module"}));export{mt as H,pe as a,Ef as b,ft as c,Ka as d,ct as e,Ou as i,z as s};
